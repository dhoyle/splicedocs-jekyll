<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="How to download, install, and start using the standalone version of Splice Machine.">
<meta name="keywords" content=" ">
<title>Importing and Querying Demo Data | Splice Machine Documentation</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">
<link rel="stylesheet" href="css/splicemain.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Splice Machine Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="index.html">Home</a></li>
                
                
                
                <li><a href="cmdlineref_intro.html">splice></a></li>
                
                
                
                <li><a href="sqlref_intro.html">SQL Reference</a></li>
                
                
                
                <li><a href="developers_intro.html">Developers</a></li>
                
                
                
                <li><a href="sparkconsole_intro.html">Spark Console</a></li>
                
                
                
                <li><a href="notes_intro.html">Notes</a></li>
                
                
                
                <li><a href="onprem_intro.html">On-Premise Ops</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:docs@splicemachine.com?subject=Splice Machine documentation feedback&body=I have some feedback about the Importing and Querying Demo Data page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Importing and Querying Demo Data">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                


<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">Splice Machine 2.6</li>
    
    
    
    <li>
        <a href="#">Splice Machine On-Premise Ops</a>
        <ul>
            
            
            
            <li><a href="onprem_intro.html">Introduction</a></li>
            
            
            
            
        </ul>
     </li>
       
        
    
    <li>
        <a href="#">Installation</a>
        <ul>
            
            
            
            <li><a href="onprem_install_intro.html">Installing Splice Machine</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_awssandbox.html">Splice Machine AWS Sandbox</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_cloudera.html">Install for Cloudera</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_hortonworks.html">Install for Hortonworks HDP</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_mapr.html">Install for MapR</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_standalone.html">Install Standalone Version</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_demodata.html">Install Standalone Demo Data</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_configureauth.html">Configure Authentication</a></li>
            
            
            
            
        </ul>
     </li>
       
        
    
    <li>
        <a href="#">Administration</a>
        <ul>
            
            
            
            <li><a href="onprem_admin_startingdb.html">Starting Your Database</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_backingup.html">Backing Up</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_cleaningdb.html">Cleaning Your Database</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_shuttingdowndb.html">Shutting Down Your Database</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_migratingdb.html">Migrating to a New Version</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_derbyprops.html">Derby Property Access</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_enablingenterprise.html">Enabling Enterprise Edition</a></li>
            
            
            
            
        </ul>
     </li>
       
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
 <h2>&#160;</h2><!--  <h1 class="post-title-main">Importing and Querying Demo Data</h1>  -->
</div>



<div class="post-content">

<!--- Don't automatically put page summary at top - GRH 05/2017 --
   
    <div class="summary">How to download, install, and start using the standalone version of Splice Machine.</div>
   
-->

    


    

  	<section>
		<div class="TopicContent">
            <h1>Importing and Querying Demo Data<a name="kanchor21"></a></h1>
            <p>This topic walks you through importing and querying the demo (sample)&#160;data that is packaged with the Splice&#160;Machine standalone installer.</p>
            <div class="noteIcon">You must <a href="StandaloneInstall.html">install the standalone version of Splice&#160;Machine</a> on your computer before following the steps in this tutorial. </div>
            <p> The Splice Machine installer package includes demo data that you can import into your database, so you can get used to working with your new database. We recommend that you follow the steps in this topic to import this demo data, and then run a few test queries against it to verify your installation.</p>
            <h2>About the Demo Data</h2>
            <p>The demo data included in your installer package requires about 30 MB in compressed format. Importing the demo data creates three tables, each of which contains one million records:</p>
            <table summary="Sample data tables">
                <col width="112px" />
                <col width="70%" />
                <tbody>
                    <tr>
                        <th>Table</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td><span class="CodeFont">T_HEADER</span>
                        </td>
                        <td>Standard <span class="ItalicFont">headers</span> from a transaction system</td>
                    </tr>
                    <tr>
                        <td><span class="CodeFont">T_DETAIL</span>
                        </td>
                        <td>Standard <span class="ItalicFont">detail</span> records from a transaction system</td>
                    </tr>
                    <tr>
                        <td><span class="CodeFont">CUSTOMERS</span>
                        </td>
                        <td>A list of target <span class="ItalicFont">customers</span></td>
                    </tr>
                </tbody>
            </table>
            <h2>Follow the Written Instructions</h2>
            <h3><a name="kanchor22"></a>Import the Data</h3>
            <p>Follow these steps to import the demo data into your Splice Machine database:</p>
            <div class="opsStepsList">
                <ol class="boldFont">
                    <li value="1">
                        <p class="topLevel">Start the command line interpreter</p>
                        <p class="indentLevel1">You can use the Splice Machine command line interpreter (CLI), or <span class="AppCommand">splice&gt;</span>&#160;prompt, to work directly with your database. If you're using the cluster version of Splice Machine, you can access the <span class="AppCommand">splice&gt;</span>&#160;prompt by entering this shell command on any node on which it is available:</p>
                        <div class="preWrapper"><pre class="ShellCommand" xml:space="preserve">./sqlshell.sh</pre>
                        </div>
                        <p class="indentLevel1">If you're using the standalone version of Splice Machine, use these steps to access the <span class="AppCommand">splice&gt;</span>&#160;prompt:</p>
                        <div class="preWrapper"><pre class="ShellCommand" xml:space="preserve">cd <span class="HighlightedCode">&lt;your.splicemachine-directory&gt;</span>
./bin/sqlshell.sh</pre>
                        </div>
                    </li>
                    <li value="2">
                        <p class="topLevel">Modify the script that loads the data to use your path:</p>
                        <p class="indentLevel1">Before running the <span class="AppCommand">loadall.sql</span> script, you must change the file path used in the script. </p>
                        <p class="indentLevel1">There are calls to <span class="CodeFont">SYSCS_UTIL.IMPORT_DATA</span> near the bottom of the script. Change the file path parameter in each of these calls to use the absolute path to your Splice&#160;Machine <span class="CodeFont">demodata</span> directory:</p>
                        <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">call SYSCS_UTIL.IMPORT_DATA('SPLICE', 'T_HEADER',&#160; null, '<span class="HighlightedCode">&lt;yourPath&gt;</span>/demodata/data/theader.csv.gz', ...;<br />call SYSCS_UTIL.IMPORT_DATA('SPLICE', 'T_DETAIL',&#160; null, '<span class="HighlightedCode">&lt;yourPath&gt;</span>/demodata/data/tdetail.csv.gz', ...;<br />call SYSCS_UTIL.IMPORT_DATA('SPLICE', 'CUSTOMERS', null, '<span class="HighlightedCode">&lt;yourPath&gt;</span>/demodata/data/customers.csv.gz', ...;</pre>
                        </div>
                        <p class="indentLevel1">Make sure you use the absolute (versus relative)&#160;path. For example:</p>
                        <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">call SYSCS_UTIL.IMPORT_DATA('SPLICE', 'T_HEADER', &#160;null, '/Users/myName/mySplice/demodata/data/theader.csv.gz', ...;<br />call SYSCS_UTIL.IMPORT_DATA('SPLICE', 'T_DETAIL', &#160;null, '/Users/myName/mySplice/demodata/data/tdetail.csv.gz', ...;<br />call SYSCS_UTIL.IMPORT_DATA('SPLICE', 'CUSTOMERS', null, '/Users/myName/mySplice/demodata/data/customers.csv.gz',...;</pre>
                        </div>
                    </li>
                    <li value="3">
                        <p class="topLevel">Run the modify script to loads the data:</p>
                        <p class="indentLevel1">From the <span class="AppCommand">splice&gt;</span> prompt, <span class="ItalicFont">run</span> the file that will load the data, using single quotes around the path/filename (and remember to include the semicolon at the end):</p>
                        <div class="preWrapper"><pre class="ShellCommand" xml:space="preserve">splice&gt; run 'demodata/sql/loadall.sql';</pre>
                        </div>
                    </li>
                    <li value="4">
                        <p class="topLevel">Wait for the script to finish</p>
                        <p class="indentLevel1">If your database is not currently running, start it up and launch the command line interpreter (<span class="AppCommand">splice&gt;</span> prompt) by issuing this command in your terminal window:</p>
                        <div class="preWrapper"><pre class="ShellCommand" xml:space="preserve">./bin/sqlshell.sh</pre>
                        </div>
                        <p class="indentLevel1">The loading process can take several minutes:&#160;the <span class="CodeFont">loadall.sql</span> file creates the schema, loads the data, and creates indexes for the tables.</p>
                        <div class="noteNote">While the database is running, logging information is written to the <span class="CodeFont">splice.log</span> file, which is found in the <span class="CodeFont">splicemachine</span> directory.</div>
                        <p class="indentLevel1">When you again see the <span class="AppCommand">splice&gt;</span> prompt, the demo data is ready to use. We recommend running the sample queries in the next section to get a feel for using Splice Machine and the demo data.</p>
                    </li>
                </ol>
            </div>
            <h3><a name="kanchor23"></a>Run Sample Queries</h3>
            <p>After you have imported the demo data, you can use the <span class="AppCommand">splice&gt;</span>&#160;command line interpreter to run the sample queries on this page to get some experience with using Splice Machine.</p>
            <p>You can simply copy the select command from each of the samples below to your clipboard. Then paste from the clipboard at the <span class="AppCommand">splice&gt;</span> prompt and press the <span class="ItalicFont">Enter</span> key or <span class="ItalicFont">Return</span> key to submit the query.</p>
            <h4>Example of Selecting a Subset</h4>
            <p>You can use the following query to select the customer IDs from a subset of the transaction detail (<span class="CodeFont">T_DETAIL</span>)&#160;table, based on transaction date and category ID.</p>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">select customer_master_id
   from T_DETAIL d
   where TRANSACTION_DT &gt;= DATE('2010-01-01')
      and TRANSACTION_DT &lt;= DATE('2013-12-31')
      AND ORIGINAL_SKU_CATEGORY_ID &gt;= 44427
      and original_sku_category_id &lt;= 44431;</pre>
            </div>
            <h4>Example of Selecting With a Join </h4>
            <p>You can use the following to query a join of the <span class="CodeFont">T_HEADER</span>&#160;and <span class="CodeFont">CUSTOMERS</span>&#160;tables.</p>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">
select t.transaction_header_key, t.transaction_dt, t.store_nbr,
       t.geocapture_flg, t.exchange_rate_percent <br />   from T_HEADER t, CUSTOMERS c<br />   where c.customer_master_id=t.customer_master_id<br />   and t.customer_master_id &gt; 14000
   and t.customer_master_id &lt; 15000;</pre>
            </div>
            <h3>Troubleshooting Transaction Exceptions on MacOS</h3>
            <p>If you're running transactions in the standalone version of Splice&#160;Machine on MacOS, you may run into an exception caused by the clock having moved backwards. This happens only rarely, and is due to the fact that OS&#160;X&#160;has its own time-maintenance daemon that can (rarely) cause the clock to move backwards, which causes a transaction exception.</p>
            <p>When this happens, you'll see an exception messages like the following:</p>
            <div class="preWrapperWide"><pre class="AppCommand">SQLSTATE: XJ001Java exception: 'java.io.IOException: java.lang.IllegalStateException: Unable to obtain timestamp, clock moved backwards</pre>
            </div>
            <p>To correct the problem, simply re-run the query or statement that generated the exception. </p>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
        </div>
	</section>

    <div class="tags">
        
    </div>



</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 Splice Machine, Inc.. All rights reserved. <br />
 Site last generated: May 18, 2017 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-35630173-2','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
