<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="How to download, install, configure and verify your installation of Splice Machine on MapR.">
<meta name="keywords" content=" MapR, installation, warden, mapr warden, hadoop, hbase, hdfs sqlshell.sh, sqlshell, download splice">
<title>Installing and Configuring Splice Machine for MapR | Splice Machine Documentation</title>
<meta class="swiftype" name="title" data-type="string" content="Installing and Configuring Splice Machine for MapR">
<meta class="swiftype" name="info" data-type="string" content="How to download, install, configure and verify your installation of Splice Machine on MapR.">
<meta class="swiftype" name="buildversion" data-type="enum" content="2.7.0">

<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<!--<link rel="stylesheet" href="css/lavish-bootstrap.css"> -->
<!--<link rel="stylesheet" href="css/customstyles.css"> -->
<link rel="stylesheet" href="css/splicemain.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container-fluid topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Splice Machine Internal Docs</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->
                
                    
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                   
                      <li class="dropdown">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Splice Machine<b class="caret"></b></a>
                          <ul class="dropdown-menu">
                             
                                
                                   <li><a href="index.html">Welcome</a></li>
                               
                             
                                
                                   <li><a href="tutorials_intro.html">Tutorials</a></li>
                               
                             
                                
                                   <li><a href="sqlref_intro.html">SQL Reference Manual</a></li>
                               
                             
                                
                                   <li><a href="developers_intro.html">Developer's Manual</a></li>
                               
                             
                                
                                   <li><a href="cmdlineref_intro.html">Command Line Reference</a></li>
                               
                             
                                
                                   <li><a href="dbconsole_intro.html">Database Console</a></li>
                               
                             
                                
                                   <li><a href="notes_intro.html">General Information</a></li>
                               
                             
                          </ul>
                      </li>
                   
                      <li class="dropdown">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown">DB-Service Only<b class="caret"></b></a>
                          <ul class="dropdown-menu">
                             
                                
                                   <li><a href="dbaas_intro.html">Welcome!</a></li>
                               
                             
                                
                                   <li><a href="dbaas_cm_intro.html">Cloud Manager Guide</a></li>
                               
                             
                                
                                   <li><a href="dbaas_zep_intro.html">Using Zeppelin</a></li>
                               
                             
                                
                                   <li><a href="dbaas_info_troubleshoot.html">Troubleshooting/Best Practices</a></li>
                               
                             
                                
                                   <li><a href="dbaas_info_intro.html">Release Information</a></li>
                               
                             
                          </ul>
                      </li>
                   
                      <li class="dropdown">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown">On-Premise-DB Only<b class="caret"></b></a>
                          <ul class="dropdown-menu">
                             
                                
                                   <li><a href="onprem_intro.html">Welcome!</a></li>
                               
                             
                                
                                   <li><a href="onprem_install_intro.html">Installation</a></li>
                               
                             
                                
                                   <li><a href="onprem_admin_intro.html">Administrator's Guide</a></li>
                               
                             
                                
                                   <li><a href="onprem_info_troubleshoot.html">Troubleshooting/Best Practices</a></li>
                               
                             
                                
                                   <li><a href="onprem_info_intro.html">Release Information</a></li>
                               
                             
                          </ul>
                      </li>
                   
                

                <!-- If building the docsdev version, do not include Swiftype search box -->
                
                <li>
<!-- Start Swiftype search -->
                    <div id="swiftype-search-container">
                        <form>
                          <input type="text" class="st-default-search-input swiftype-input">
                          <button type="submit" class="swiftype-submit">Search</button>
                        </form>
                    </div>
                </li>
                
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container-fluid">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">Splice Machine Internal v2.7.0</li>
    
    
    
    <li>
        <a href="#">On-Premise DB</a>
        <ul>
            
            
            
            <li><a href="onprem_intro.html">Welcome!</a></li>
            
            
            
            
        </ul>
     </li>
       
        
    
    <li>
        <a href="#">On-Premise Installation</a>
        <ul>
            
            
            
            <li><a href="onprem_install_intro.html">Installing Splice Machine</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_awssandbox.html">Splice Machine AWS Sandbox</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_cloudera.html">Install for Cloudera</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_hortonworks.html">Install for Hortonworks HDP</a></li>
            
            
            
            
            
            
            <li class="active"><a href="onprem_install_mapr.html">Install for MapR</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_standalone.html">Install Standalone Version</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_demodata.html">Install Standalone Demo Data</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_configureauth.html">Configure Authentication</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_configureTLS.html">Configure SSL/TLS</a></li>
            
            
            
            
            
            
            <li><a href="onprem_install_upgradev2.0.html">Upgrading from V2.0 to V2.5</a></li>
            
            
            
            
        </ul>
     </li>
       
        
    
    <li>
        <a href="#">On Premise Administration</a>
        <ul>
            
            
            
            <li><a href="onprem_admin_intro.html">Introduction</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_startingdb.html">Starting Your Database</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_backingup.html">Backing Up</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_cleaningdb.html">Cleaning Your Database</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_shuttingdowndb.html">Shutting Down Your Database</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_derbyprops.html">Derby Property Access</a></li>
            
            
            
            
            
            
            <li><a href="onprem_admin_enablingenterprise.html">Enabling Enterprise Edition</a></li>
            
            
            
            
        </ul>
     </li>
       
        
    
    <li>
        <a href="#">Best Practices & TroubleShooting</a>
        <ul>
            
            
            
            <li><a href="onprem_info_troubleshoot.html">Troubleshooting</a></li>
            
            
            
            
        </ul>
     </li>
       
        
    
    <li>
        <a href="#">Release Information</a>
        <ul>
            
            
            
            <li><a href="onprem_info_intro.html">Introduction</a></li>
            
            
            
            
            
            
            <li><a href="onprem_info_release.html">Release Notes v2.6.1</a></li>
            
            
            
            
            
            
            <li><a href="onprem_info_release2.5.html">Release Notes v2.5</a></li>
            
            
            
            
            
            
            <li><a href="onprem_info_newfeatures.html">New Feature Notes</a></li>
            
            
            
            
            
            
            <li><a href="onprem_info_workarounds.html">Limits and Workarounds</a></li>
            
            
            
            
            
            
            <li><a href="onprem_info_requirements.html">Requirements</a></li>
            
            
            
            
            
            
            <li><a href="notes_usingdocs.html">About our Documentation</a></li>
            
            
            
            
            
            
            <li><a href="onprem_info_editions.html">Enterprise Edition Support</a></li>
            
            
            
            
        </ul>
     </li>
       
        
    
    <li>
        <a href="#">Previous Release Docs</a>
        <ul>
            
            
            
            <li><a href="https://doc.splicemachine.com/2.5" target="_blank">Release 2.5 Docs</a></li>
            
            
            
            
            
            
            <li><a href="https://doc.splicemachine.com/2.0" target="_blank">Release 2.0 Docs</a></li>
            
            
            
            
        </ul>
     </li>
       
        
    
    <li>
        <a href="#">Splice Machine Home</a>
        <ul>
            
            
            
            <li><a href="https://www.splicemachine.com" target="_blank">Splice Machine Home Page</a></li>
            
            
            
            
            
            
            <li><a href="https://www.splicemachine.com/product/" target="_blank">Splice Machine Product Page</a></li>
            
            
            
            
            
            
            <li><a href="https://www.splicemachine.com/solutions/" target="_blank">Splice Machine Solutions</a></li>
            
            
            
            
            
            
            <li><a href="https://www.splicemachine.com/services/support/" target="_blank">Splice Machine Support</a></li>
            
            
            
            
            
            
            <li><a href="https://www.splicemachine.com/resources/" target="_blank">Splice Machine Resources</a></li>
            
            
            
            
            
            
            <li><a href="https://www.splicemachine.com/community/" target="_blank">Splice Machine Community</a></li>
            
            
            
            
        </ul>
     </li>
       
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            

<div class="post-content">

<!--- Don't automatically put page summary at top - GRH 05/2017:
   
    <div class="summary">How to download, install, configure and verify your installation of Splice Machine on MapR.</div>
   
-->

    


    

  <section>
<div class="TopicContent" data-swiftype-index="true">

    <h1 id="installing-and-configuring-splice-machine-for-mapr">Installing and Configuring Splice Machine for MapR</h1>

    <p class="noteOnPremiseOnly">    <a href="https://www.splicemachine.com/get-started/" target="_blank">Learn about our products</a></p>

    <div>
      <p>This topic describes installing and configuring Splice Machine on a
MapR-managed cluster. Follow these steps:</p>

      <ol>
        <li><a href="#Verify">Verify Prerequisites</a></li>
        <li><a href="#Install">Download and Install Splice Machine</a></li>
        <li><a href="#Configur">Configure Cluster Services</a></li>
        <li><a href="#Stop">Stop Cluster Services</a></li>
        <li><a href="#StartCluster">Restart Cluster Services</a></li>
        <li><a href="#CreateLogDir">Create the Splice Machine Event Log Directory</a></li>
        <li>Make any needed <a href="#Optional">Optional Configuration Modifications</a></li>
        <li><a href="#Run">Verify your Splice Machine Installation</a></li>
      </ol>

      <div class="openSourceNote">
        <p><span class="noteEnterpriseNote">MapR Secure Clusters Only Work with the
Enterprise Edition of Splice Machine</span></p>

        <p>MapR secure clusters do not support the Community Edition of Splice
Machine. You can check this by:</p>

        <ol>
          <li>
            <p>Open the HBase Configuration page</p>
          </li>
          <li>
            <p>Search the XML for the <code>hbase.security.authentication</code> setting</p>
          </li>
          <li>
            <p>If the setting value is anything other than <code>simple</code>, you need the
<em>Enterprise</em> edition of Splice Machine.</p>
          </li>
        </ol>

        <p>To read more about the additional features available in the Enterprise
Edition, see our <a href="notes_editions.html">Splice Machine Editions</a> page. To
obtain a license for the Splice Machine <em>Enterprise Edition</em>, <span class="noteEnterpriseNote">please <a href="http://www.splicemachine.com/company/contact-us/" target="_blank">Contact Splice Machine Sales</a> today.</span></p>

      </div>
      <h2 id="Verify">Verify Prerequisites</h2>

      <p>Before starting your Splice Machine installation, please make sure that
your cluster contains the prerequisite software components:</p>

      <ul>
        <li>
          <p>A cluster running MapR with MapR-FS</p>
        </li>
        <li>
          <p>HBase installed</p>
        </li>
        <li>
          <p>YARN installed</p>
        </li>
        <li>
          <p>ZooKeeper installed</p>
        </li>
        <li>
          <p>The latest <code>mapr-patch</code> should be installed to bring in all
MapR-supplied platform patches, before proceeding with your Splice
Machine installation.</p>
        </li>
        <li>
          <p>The MapR Ecosystem Package (MEP) should be installed on all cluster
nodes, before proceeding with your Splice Machine installation.</p>
        </li>
        <li>
          <p>Ensure Spark services are <strong>NOT</strong> installed; Splice Machine cannot
currently coexist with Spark 1.x on a cluster:</p>

          <ul class="bullet">
            <li>
              <p>If <code>MEP version 1.x</code> is in use, you must remove the <code>Spark 1.x</code>
packages from your cluster, as described below, in <a href="#Removing">Removing Spark
Packages from Your Cluster.</a></p>
            </li>
            <li>
              <p>MEP version 2.0 bundles Spark 2.0, and will not cause conflicts with
Splice Machine.</p>
            </li>
          </ul>
        </li>
      </ul>

      <p class="noteNote">The specific versions of these components that you need depend on your
operating environment, and are called out in detail in the
<a href="onprem_info_requirements.html">Requirements</a> topic of our <em>Getting
Started Guide</em>.</p>

      <h3 id="Removing">Removing Spark Packages from Your Cluster</h3>

      <p>To remove Spark packages from your cluster and update your
configuration, follow these steps</p>

      <div class="opsStepsList">
        <ol class="boldFont">
          <li>
            <p class="topLevel">If you’re running a Debian/Ubuntu-based Linux distribution:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>dpkg -l | awk '/ii.*mapr-spark/{print $2}' | xargs sudo apt-get purge
</code></pre>

            </div>

            <p class="indentLevel1">If you’re running on a RHEL/CentOS-based Linux distribution:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>rpm -qa \*mapr-spark\* | xargs sudo yum -y erase
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Reconfigure node services in your cluster:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>sudo /opt/mapr/server/configure.sh -R
</code></pre>

            </div>
          </li>
        </ol>

      </div>
      <h2 id="Install">Download and Install Splice Machine</h2>

      <p>Perform the following steps <span class="important">on each node</span>
in your cluster:</p>

      <div class="opsStepsList">
        <ol class="boldFont">
          <li>
            <p class="topLevel">Download the installer for your version.</p>

            <p class="indentLevel1">Which Splice Machine installer (gzip) package you need depends upon which Splice Machine version you’re installing and which version of MapR you are using. Here are the URLs for Splice Machine Release 2.6.1 and 2.6:</p>

            <table>
    <col />
    <col />
    <col />
    <thead>
        <tr>
            <th>Splice Machine Release</th>
            <th>MapR Version</th>
            <th>Installer Package Link</th>
        </tr>
    </thead>
    <tbody>
       <tr>
           <td class="SpliceRelease">2.6.1</td>
           <td class="SplicePlatform">5.2.0</td>
           <td><a href="https://s3.amazonaws.com/splice-releases/2.6.1.1736/cluster/installer/mapr5.2.0/SPLICEMACHINE-2.6.1.1736.mapr5.2.0.p0.74.tar.gz">https://s3.amazonaws.com/splice-releases/2.6.1.1736/cluster/installer/mapr5.2.0/SPLICEMACHINE-2.6.1.1736.mapr5.2.0.p0.74.tar.gz</a></td>
        </tr>
        <tr>
            <td colspan="3" class="Separator"> </td>
        </tr>
       <tr>
           <td class="SpliceRelease">2.5.0</td>
           <td class="SplicePlatform">5.2.0</td>
           <td><a href="https://s3.amazonaws.com/splice-releases/2.5.0.1735/cluster/installer/mapr5.2.0/SPLICEMACHINE-2.5.0.1735.mapr5.2.0.p0.434.tar.gz">https://s3.amazonaws.com/splice-releases/2.5.0.1735/cluster/installer/mapr5.2.0/SPLICEMACHINE-2.5.0.1735.mapr5.2.0.p0.434.tar.gz</a></td>
        </tr>
    </tbody>
</table>

            <p class="noteIcon">To be sure that you have the latest URL, please check <a href="https://community.splicemachine.com/" target="_blank">the Splice
Machine Community site</a> or contact your Splice
Machine representative.</p>
          </li>
          <li>
            <p class="topLevel">Create the <code>splice</code> installation directory:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>mkdir -p /opt/splice
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Download the Splice Machine package into the <code>splice</code> directory on
the node. For example:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>cd /opt/splicecurl -O '////SPLICEMACHINE-..'
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Extract the Splice Machine package:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>tar -xf SPLICEMACHINE-..
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Create a symbolic link. For example:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>ln -sf SPLICEMACHINE-.. default
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Run our script as <em>root</em> user <span class="important">on each
node</span> in your cluster to add symbolic links to the set up the
Splice Machine jar and to script symbolic links:</p>

            <p class="indentLevel1">Issue this command on each node in your cluster:</p>

            <div class="preWrapperWide">

              <pre class="ShellCommand"><code>sudo bash /opt/splice/default/scripts/install-splice-symlinks.sh
</code></pre>

            </div>
          </li>
        </ol>

      </div>
      <h2 id="Configur">Configure Cluster Services</h2>

      <p>The scripts used in this section all assume that password-less <span class="ShellCommand">ssh </span>and password-less <span class="ShellCommand">sudo </span>are enabled across all cluster nodes.
These scripts are designed to be run on the CLDB node in a cluster with
only one CLDB node. If your cluster has multiple CLDB nodes, do not run
these script; you need to change configuration settings manually <span class="important">on each node</span> in the cluster. To do so, refer to
the <code>*.patch</code> files in the <code>/opt/splice/default/conf</code> directory.</p>

      <p>If you’re running on a cluster with a single CLDB node, follow these
steps:</p>

      <div class="opsStepsList">
        <ol class="boldFont">
          <li>
            <p class="topLevel">Tighten the ephemeral port range so HBase doesn’t bump into it:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>cd /opt/splice/default/scripts
./install-sysctl-conf.sh
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Update <code>hbase-site.xml</code>:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>cd /opt/splice/default/scripts
./install-hbase-site-xml.sh
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Update <code>hbase-env.sh</code>:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>cd /opt/splice/default/scripts
./install-hbase-env-sh.sh
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Update <code>yarn-site.xml</code>:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>cd /opt/splice/default/scripts
./install-yarn-site-xml.sh
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Update <code>warden.conf</code>:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>cd /opt/splice/default/scripts
./install-warden-conf.sh
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Update <code>zoo.cfg</code>:</p>

            <div class="preWrapperWide">
              <pre class="ShellCommand"><code>cd /opt/splice/default/scripts
./install-zookeeper-conf.sh
</code></pre>

            </div>
          </li>
        </ol>

      </div>
      <h2 id="Stop">Stop Cluster Services</h2>

      <p>You need to stop all cluster services to continue with installing Splice
Machine. Run the following commands as <code>root</code> user <span class="important">on each node</span> in your cluster</p>

      <div class="preWrapperWide">
        <pre class="ShellCommand"><code>sudo service mapr-warden stopsudo service mapr-zookeeper stop
</code></pre>

      </div>
      <h2 id="StartCluster">Restart Cluster Services</h2>

      <p>Once you’ve completed the configuration steps described above, start
services on your cluster; run the following commands <span class="important">on each node</span> in your cluster:</p>

      <div class="preWrapper">
        <pre class="ShellCommand"><code>sudo service mapr-zookeeper startsudo service mapr-warden start
</code></pre>

      </div>
      <h2 id="CreateLogDir">Create the Splice Machine Event Log Directory</h2>

      <p>Create the Splice Machine event log directory by executing the following
commands on a single cluster node while MapR is up and running:</p>

      <div class="preWrapper">
        <pre class="ShellCommand"><code>sudo -su mapr hadoop fs -mkdir -p /user/splice/historysudo -su mapr hadoop fs -chown -R mapr:mapr /user/splicesudo -su mapr hadoop fs -chmod 1777 /user/splice/history
</code></pre>

      </div>
      <h2 id="Optional">Optional Configuration Modifications</h2>

      <p>There are a few configuration modifications you might want to make:</p>

      <ul>
        <li><a href="#Modify">Modify the Authentication Mechanism</a> if you want to
authenticate users with something other than the default <em>native
authentication</em> mechanism.</li>
        <li><a href="#Logging">Modify the Log Location</a> if you want your Splice Machine
log entries stored somewhere other than in the logs for your region
servers.</li>
        <li><a href="#Adjust">Adjust the Replication Factor</a> if you have a small cluster
and need to improve resource usage or performance.</li>
      </ul>

      <h3 id="Modify">Modify the Authentication Mechanism</h3>

      <p>Splice Machine installs with Native authentication configured; native
authentication uses the <code>sys.sysusers</code> table in the <code>splice</code> schema for
configuring user names and passwords.</p>

      <p>You can disable authentication or change the authentication mechanism
that Splice Machine uses to LDAP by following the simple instructions in
<a href="cmdlineref_intro.html">Command Line (splice&gt;) Reference</a></p>
      <h3 id="Logging">Modify the Log Location</h3>

      <p>Splice Machine logs all SQL statements by default, storing the log
entries in your region server’s logs, as described in our <a href="developers_tuning_logging">Using
Logging</a> topic. You can modify where Splice
Machine stores logs as follows:</p>

      <div class="opsStepsList">
        <ol>
          <li>
            <p class="topLevel">Append the following configuration information to the <code>/opt/mapr/hbase/hbase-1.1.1/conf/log4jd/properties</code> file <em>on each node</em> in your cluster:</p>

            <div class="preWrapper">
              <pre class="Plain"><code>log4j.appender.spliceDerby=org.apache.log4j.FileAppender
log4j.appender.spliceDerby.File=${hbase.log.dir}/splice-derby.log
log4j.appender.spliceDerby.layout=org.apache.log4j.EnhancedPatternLayout
log4j.appender.spliceDerby.layout.ConversionPattern=%d{EEE MMM d HH:mm:ss,SSS} Thread[%t] %m%n

log4j.appender.spliceStatement=org.apache.log4j.FileAppender
log4j.appender.spliceStatement.File=${hbase.log.dir}/splice-statement.log
log4j.appender.spliceStatement.layout=org.apache.log4j.EnhancedPatternLayout
log4j.appender.spliceStatement.layout.ConversionPattern=%d{EEE MMM d HH:mm:ss,SSS} Thread[%t] %m%n

log4j.logger.splice-derby=INFO, spliceDerby
log4j.additivity.splice-derby=false

# Uncomment to log statements to a different file:
#log4j.logger.splice-derby.statement=INFO, spliceStatement
# Uncomment to not replicate statements to the spliceDerby file:
#log4j.additivity.splice-derby.statement=false
</code></pre>

            </div>
          </li>
          <li>
            <p class="topLevel">Use either of these methods to take the log changes live:</p>

            <ol>
              <li>
                <p>Restart the MapR service on each node in your cluster:</p>

                <p class="ShellCommand">service mapr-warden restart</p>
              </li>
              <li>
                <p>OR, restart the HBase service <em>on each node</em> in your cluster by issuing these commands from your Master node:</p>

                <p class="ShellCommand">sudo -su mapr maprcli node services -hbmaster restart -nodes <span class="Highlighted">&lt;master node&gt;</span> <br />
sudo -su mapr maprcli node services -hbregionserver restart -nodes  <span class="Highlighted">&lt;regional node 1&gt; &lt;regional node 2&gt; … &lt;regional node n&gt;</span></p>
              </li>
            </ol>
          </li>
        </ol>

      </div>

      <h3 id="Adjust">Adjust the Replication Factor</h3>

      <p>The default namespace replication factor for Splice Machine is <span class="PlatformVariablesMapRDefaultReplication">3</span>. If you’re
running a small cluster you may want to adjust the replication down to
improve resource and performance drag. To do so in MapR, use the
following command:</p>

      <pre class="ShellCommand"><code>maprcli volume modify -nsreplication &lt;value&gt;
</code></pre>

      <p>For more information, see the MapR documentation site,
<a href="http://doc.mapr.com/" title="MapR documentation site" target="_blank">doc.mapr.com</a>.</p>

      <h2 id="Run">Verify your Splice Machine Installation</h2>

      <p>Now start using the Splice Machine command line interpreter, which is
referred to as <em>the splice prompt</em> or simply <span class="AppCommand">splice&gt;</span> by launching the <code>sqlshell.sh</code>
script on any node in your cluster that is running an HBase region
server.</p>

      <p class="noteNote">The command line interpreter defaults to connecting on port <code>1527</code> on
<code>localhost</code>, with username <code>splice</code>, and password <code>admin</code>. You can
override these defaults when starting the interpreter, as described in
the <a href="cmdlineref_intro.html">Command Line (splice&gt;) Reference</a> topic
in our <em>Developer’s Guide</em>.</p>

      <p>Now try entering a few sample commands you can run to verify that
everything is working with your Splice Machine installation.</p>

      <table summary="Sample commands to verify your installation">
                    <col />
                    <col />
                    <thead>
                        <tr>
                            <th>Operation</th>
                            <th>Command to perform operation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Display tables</td>
                            <td>
                                <div class="preWrapperWide"><pre class="AppCommandCell" xml:space="preserve">splice&gt; show tables;</pre>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Create a table</td>
                            <td>
                                <div class="preWrapperWide"><pre class="AppCommandCell">splice&gt; create table test (i int);</pre>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Add data to the table</td>
                            <td>
                                <div class="preWrapperWide"><pre class="AppCommandCell">splice&gt; insert into test values 1,2,3,4,5;</pre>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Query data in the table</td>
                            <td>
                                <div class="preWrapperWide"><pre class="AppCommandCell">splice&gt; select * from test;</pre>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Drop the table</td>
                            <td>
                                <div class="preWrapperWide"><pre class="AppCommandCell">splice&gt; drop table test;</pre>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>List available commands</td>
                            <td>
                                <div class="preWrapperWide"><pre class="AppCommandCell">splice&gt; help;</pre>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Exit the command line interpreter</td>
                            <td>
                                <div class="preWrapperWide"><pre class="AppCommandCell">splice&gt; exit;</pre>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"><strong>Make sure you end each command with a semicolon</strong> (<code>;</code>), followed by the <em>Enter</em> key or <em>Return</em> key </td>
                        </tr>
                    </tbody>
                </table>
      <p>See the <a href="cmdlineref_intro.html">Command Line (splice&gt;) Reference</a>
section of our <em>Developer’s Guide</em> for information about our commands
and command syntax.</p>

    </div>
  </div>
</section>



    <div class="tags">
        
    </div>



</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 Splice Machine, Inc. All rights reserved. <br />
 Site last generated: Dec 14, 2017 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

        <!-- Swiftype script; values depend on which built type and which build version -->

<script type="text/javascript">
(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','YGtH3zGt4NJzs35yCo5A','2.0.0', {
  install: {
    hooks: {
      query_filter: function(query) {
        query.setFilterDataByDocumentTypeSlugAndFilterField('page', 'buildversion', { values: ['2.7.0'], type: "and" });

        return query;
      }
    }
  }
});
</script>


</body>
    <!-- Only include analytics scripts if generating the customer docs -->


</html>
