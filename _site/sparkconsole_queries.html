<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Describes how to use Splice Machine Management Console  to monitor (and kill) queries on your cluster in real time.">
<meta name="keywords" content=" ">
<title>Managing queries with the Splice Machine Management Console | Splice Machine Documentation</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<!--<link rel="stylesheet" href="css/lavish-bootstrap.css"> -->
<!--<link rel="stylesheet" href="css/customstyles.css"> -->
<link rel="stylesheet" href="css/splicemain.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container-fluid topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Splice Machine Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Splice Machine<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="index.html">Welcome</a></li>
                        
                        
                        
                        <li><a href="tutorials_intro.html">Tutorials</a></li>
                        
                        
                        
                        <li><a href="sqlref_intro.html">SQL Reference Manual</a></li>
                        
                        
                        
                        <li><a href="developers_intro.html">Developer's Manual</a></li>
                        
                        
                        
                        <li><a href="releasenotes_intro.html">Release Notes</a></li>
                        
                        
                        
                        <li><a href="notes_intro.html">Other Notes</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">DB-Service Only<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="dbaas_intro.html">Welcome!</a></li>
                        
                        
                        
                        <li><a href="dbaas_cm_intro.html">Cloud Manager Guide</a></li>
                        
                        
                        
                        <li><a href="dbaas_zep_intro.html">Using Zeppelin</a></li>
                        
                        
                        
                        <li><a href="dbaas_dbconsole_intro.html">Using the DB Console</a></li>
                        
                        
                        
                        <li><a href="dbaas_notes_release.html">Release Notes</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">On-Premise-DB Only<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="onprem_intro.html">Welcome!</a></li>
                        
                        
                        
                        <li><a href="onprem_install_intro.html">Installation</a></li>
                        
                        
                        
                        <li><a href="cmdlineref_intro.html">splice> Command Line Reference</a></li>
                        
                        
                        
                        <li><a href="onprem_admin_intro.html">Administrator's Guide</a></li>
                        
                        
                    </ul>
                </li>
                
                
                
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="Managing queries with the Splice Machine Management Console">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container-fluid">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
    <li class="sidebarTitle"> </li>
    
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>
            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            

<div class="post-content">

<!--- Don't automatically put page summary at top - GRH 05/2017:
   
    <div class="summary">Describes how to use Splice Machine Management Console  to monitor (and kill) queries on your cluster in real time.</div>
   
-->

    


    

  	<section>
		<div class="TopicContent">
            <h1 id="kanchor365">Managing Queries with the Console</h1>
            <p>The Splice Machine Management Console allows you to view queries that are currently running and have completed running in your database. You typically start at the top level, viewing jobs, and then drill down into individual job details, job stages, and task details, as described in these sections:</p>
            <ul>
                <li value="1"><a href="#Viewing4">Viewing Summary Pages</a> describes the console's top-level summary pages.</li>
                <li value="2"><a href="#Viewing">Viewing Job Details</a> describes the pages in which you can view details of active or completed jobs.</li>
                <li value="3"><a href="#Viewing2">Viewing Stage Details</a> describes the pages in which you can view details of active and completed stages.</li>
                <li value="4"><a href="#Terminat">Terminating a Stage</a> shows you how to terminate a job stage that is not performing as you think it should.</li>
            </ul>
            <h2 id="Viewing4">Viewing Summary Pages</h2>
            <p>The console includes five summary pages, each of which can be accessed from the tab bar at the top of the console window:</p>
            <ul>
                <li value="1"><a href="#The2">The Jobs Summary page</a> shows information about all active and completed jobs.</li>
                <li value="2"><a href="#The3">The Stages Summary Page</a> shows all stages for all jobs, both active and completed.</li>
                <li value="3"><a href="#The4">The Storage Summary Page</a> shows any RDDs that you have persisted or cached to memory.</li>
                <li value="4"><a href="#The5">The Environment Summary Page</a> shows information about the Spark run-time environment.</li>
                <li value="5"><a href="#The6">The Executors Summary Page</a> shows the executors that are currently running.</li>
            </ul>
            <h3 id="The2">The Jobs Summary page</h3>
            <p>The <span class="ItalicFont">Jobs Summary Page</span> is the top-level view in the Splice Machine Management Console, It shows you a summary of any currently active and all completed jobs.</p>
            <p>You land on this page when you first view the <span class="ItalicFont">Management Console</span> in your browser, and you can view it at any time by clicking the <span class="AppCommand">Jobs</span> tab in the tab bar at the top of the page.</p>
            <div>
                <img src="images/SparkUIJobs.png" class="indentedTightSpacing" alt="Query Management Overview Screen" />
            </div>
            <div class="noteNote">A stage is shown as skipped when the data has been fetched from a cache and there was no need to reexecute the stage; this happens when shuffling data because the Spark engine automatically caches generated data.</div>
            <p>You can click the a job description name (in <span class="ConsoleLink">blue</span>)&#160;to view job details of any job in the <span class="AppCommand">Active Jobs</span> or <span class="AppCommand">Completed Jobs</span> sections.</p>
            <h3 id="The3">The Stages Summary Page</h3>
            <p>The <span class="ItalicFont">StagesSummary Page</span> shows you the available scheduling pools, and a summary of the stages for all active and completed jobs. You can access this page by clicking the <span class="AppCommand">Stages</span> tab in the tab bar at the top of the window.</p>
            <div>
                <img src="images/SparkUIStagesAllJobs.png" class="indentedTightSpacing" alt="Spark UI stages summary for all jobs" />
            </div>
            <p>You can click the descriptive name of a stage (in <span class="ConsoleLink">blue</span>)&#160;to view the stage details. </p>
            <p>The <span class="AppCommand">Fair Scheduler Pools</span> section at the top of the page shows the name and weighting value for each of the scheduler pools that have been defined for your database jobs.</p>
            <h3 id="The4">The Storage Summary Page</h3>
            <p>The <span class="ItalicFont">Storage Summary Page</span> displays information about any RDDs that are currently persisted or cached. You can access this page by clicking the <span class="AppCommand">Storage</span> tab in the tab bar at the top of the window:</p>
            <h3 id="The5">The Environment Summary Page</h3>
            <p>The <span class="ItalicFont">Environment Summary Page</span> displays information about which software versions you're using, and shows the values of the Spark-related environment variables. You can access this page by clicking the <span class="AppCommand">Environment</span> tab in the tab bar at the top of the window:</p>
            <div>
                <img src="images/SparkUIEnviroment.png" class="indentedTightSpacing" alt="Spark UI environment summary page" />
            </div>
            <h3 id="The6">The Executors Summary Page</h3>
            <p>The <span class="ItalicFont">Executors Summary Page</span> shows you the Spark executors that are currently running.  You can access this page by clicking the <span class="AppCommand">Executors</span> tab in the tab bar at the top of the window:</p>
            <div>
                <img src="images/SparkUIExecutors.png" class="indentedTightSpacing" alt="Spark UI executors summary page" />
            </div>
            <p>You can click <span class="ConsoleLink">Thread&#160;Dump</span> to display a thread dump for an executor, or you can click a log name to see the contents of the log.</p>
            <h2 id="Viewing">Viewing Job Details</h2>
            <p>If you click a job to see its details, you'll see a screen like the following displayed, which shows the stages of the job:</p>
            <div>
                <img src="images/SparkUIJobdetails2.png" class="indentedTightSpacing" alt="Splice Management Console Spark Job Details screen" />
            </div>
            <p>You can expand the job detail display by selecting the <span class="ConsoleLink">Event Timeline</span> and/or <span class="ConsoleLink">DAG&#160;Visualization</span> buttons. </p>
            <h3 id="Job">Job Details Event Time Line View </h3>
            <p>The job details time-line view looks like the following screen shot:</p>
            <div>
                <img src="images/SparkUIJobDetailsTimeline.png" class="indentedTightSpacing" alt="Event timeline view of a Spark job" />
            </div>
            <p>&#160;</p>
            <h3 id="Query">Job Details Graphical Visualization View</h3>
            <p>The DAG&#160;Visualization view for a job looks like this:</p>
            <div>
                <img src="images/SparkUIJobDetailsDAG.png" class="indentedTightSpacing" alt="DAG view of a Spark job" />
            </div>
            <p>Some key things to know about the DAG&#160;view are:</p>
            <ul>
                <li value="1">
                    <p>You can click in the box representing a stage to view the detailed tasks within that stage. For an example, see <a href="#Graphica">Graphical View of the Tasks in a Stage</a>, in the next section.</p>
                </li>
                <li value="2">
                    <p>You can hover over any of the black dots inside a task box to display information about the task. For example:</p>
                    <div>
                        <img src="images/SparkUIHoverDAG.png" class="nestedTightSpacing" alt="Spark UI hovering over a task node" />
                    </div>
                </li>
            </ul>
            <h2 id="Viewing2">Viewing Stage Details</h2>
            <p>Viewing stage details is very much the same as viewing job details. If you click the name of a stage in another page, the detailed view of that stage displays:</p>
            <div>
                <img src="images/SparkUIStageDetails.png" class="indentedTightSpacing" alt="Details of a job stage" />
            </div>
            <h3 id="The">The Event Time Line View of a Stage</h3>
            <p>The Event Timeline view of a stage looks like this:</p>
            <div>
                <img src="images/SparkUIStageDetailsTimeline.png" class="indentedTightSpacing" alt="Timeline view of a Spark job stage" />
            </div>
            <h3 id="Graphica">Graphical View of the Tasks in a Stage</h3>
            <p>The DAG&#160;Visualization view of a stage looks like this:</p>
            <div>
                <img src="images/SparkUIStageDetailsDAG.png" class="indentedTightSpacing" alt="Graphical view of a Spark job stage" />
            </div>
            <h2 id="Terminat">Terminating a Stage</h2>
            <p>If you conclude that an active job stage is not performing the way you think it should, you can terminate a stage by clicking the <span class="AppCommand">Kill</span> button shown in the description of every active stage. The following image highlights the kill buttons that you'll find in the console&#160;display:</p>
            <div>
                <img src="images/SparkUIKillStage.png" class="indentedTightSpacing" alt="Finding the Kill button in the Spark UI" />
            </div>
            <p>You'll be prompted to verify that you want the stage terminated:</p>
            <div>
                <img src="images/SparkUIKillVerify.png" class="indentedTightSpacing" alt="Verifying that a stage should be terminated in the Spark UI" />
            </div>
            <p>You can access the <span class="AppCommand">Kill</span> button by drilling down into a job's stages, or by selecting the <span class="AppCommand">Stages</span> tab in the tab bar, which displays all stages for all jobs.</p>
            <h2>See Also</h2>
            <ul>
                <li value="1"><a href="sparkconsole_intro.html">About the Splice Machine Management Console</a>
                </li>
                <li value="2"><a href="sparkconsole_features.html">User Interface Features of the Splice&#160;Machine Management Console</a>
                </li>
                <li value="3"><a href="developers_fundamentals_sparklibs.html">Using Spark Libraries with Splice Machine</a>
                </li>
            </ul>
        </div>
	</section>


    <div class="tags">
        
    </div>



</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 Splice Machine, Inc. All rights reserved. <br />
 Site last generated: Jul 12, 2017 <br />
<p><img src="images/company_logo.png" alt="Company logo"/></p>
                </div>
            </div>
</footer>


        </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-35630173-2','auto');ga('require','displayfeatures');ga('send','pageview');</script>


</html>
