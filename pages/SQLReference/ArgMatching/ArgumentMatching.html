---
title: Argument Matching
summary: How Splice Machine maps SQL data types to Java data types and matches arguments when using stored procedures.
keywords: 
toc: false
product: all
sidebar:  sqlref_sidebar
permalink: sqlref_sqlargmatching.html
folder: SQLReference/ArgMatching
---
	<section>
		<div class="TopicContent">
            <h1><a name="SQLArgumentMatching" id="SQLArgumentMatching"></a><a name="kanchor70"></a>Argument Matching in Splice Machine</h1>
            <p>When you declare a function or procedure using <span class="CodeFont">CREATE FUNCTION/PROCEDURE</span>, Splice Machine does not verify whether a matching Java method exists. Instead, Splice Machine looks for a matching method only when you invoke the function or procedure in a later SQL statement. </p>
            <p>At that time, Splice Machine searches for a public, static method having the class and method name declared in the <span class="CodeFont">EXTERNAL NAME </span>clause of the earlier <span class="CodeFont">CREATE FUNCTION/PROCEDURE</span> statement. Furthermore, the Java types of the method's arguments and return value must match the SQL types declared in the <span class="CodeFont">CREATE FUNCTION/PROCEDURE </span>statement. </p>
            <p>The following may happen:</p>
            <table summary="Pssible results of argument mismatches">
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Result</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ItalicFont">Success
                    </td>
                        <td>If exactly one Java method matches, then Splice Machine invokes it.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">Ambiguity
                    </td>
                        <td> If exactly one Java method matches, then Splice Machine invokes it.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">Failure
                    </td>
                        <td> Splice Machine also raises an error if no method matches.</td>
                    </tr>
                </tbody>
            </table>
            <p>
			In mapping SQL data types to Java data types, Splice Machine considers the following kinds of matches:
		</p>
            <table summary="Types of argument matches">
                <col />
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Result</th>
                        <th>Description</th>
                        <th>&#160;</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ItalicFont">Primitive Match
                    </td>
                        <td>Splice Machine looks for a primitive	Java type corresponding to the SQL type. For instance, SQL <span class="CodeFont">INTEGER </span>matches Java <span class="ItalicFont">int</span></td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">Wrapper Match
                    </td>
                        <td> Splice Machine looks for a wrapper class in the <span class="ItalicFont">java.lang</span> or <span class="ItalicFont">java.sql</span> packages corresponding to the
					SQL type. For instance, SQL INTEGER matches <span class="ItalicFont">java.lang.Integer</span>. For a user-defined type (UDT), Splice Machine looks for the UDT's external name class.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">Array Match
                    </td>
                        <td>For <span class="CodeFont">OUT</span> and <span class="CodeFont">INOUT</span> procedure arguments, Splice Machine looks for an array of the corresponding primitive or wrapper type. For
					example, an <span class="CodeFont">OUT</span> procedure argument of type SQL <span class="CodeFont">INTEGER </span>matches	<span class="ItalicFont">int[]</span> and <span class="ItalicFont">Integer[]</span>.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">ResultSet&#160;Match
                    </td>
                        <td> If a procedure is declared to return <span class="ItalicFont">n</span> RESULT SETS, Splice Machine looks for a method whose last <span class="ItalicFont">n</span> arguments are of type <span class="ItalicFont">java.sql.ResultSet[]</span>.</td>
                    </tr>
                </tbody>
            </table>
            <p>Splice Machine resolves function and procedure invocations as follows: </p>
            <table summary="How Splice Machine resolves argments matches in function and procedure calls">
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Call type</th>
                        <th>Resolution</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ItalicFont">Function
                 </td>
                        <td>Splice Machine looks for a method whose argument and return types are <span class="ItalicFont">primitive match</span>es or <span class="ItalicFont">wrapper match</span>es for the function's SQL arguments and return value.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">Procedure                    </td>
                        <td>
                            <p class="noSpaceAbove">Splice Machine looks for a method which returns void and whose argument types match as follows:
						</p>
                            <ul>
                                <li value="1"><span class="CodeFont">IN</span> - Method arguments are <span class="ItalicFont">primitive match</span>es or <span class="ItalicFont">wrapper matches</span> for the procedure's <span class="CodeFont">IN</span> arguments.</li>
                                <li value="2"><span class="CodeFont">OUT and INOUT</span> - Method arguments are <span class="ItalicFont">array match</span>es for the
						procedure's <span class="CodeFont">OUT</span> and <span class="CodeFont">INOUT</span> arguments.</li>
                            </ul>
                            <p>
						In addition, if the procedure returns <span class="ItalicFont">n</span> RESULT SETS, then the last <span class="ItalicFont">n</span> arguments of the Java method must be of type <span class="ItalicFont">java.sql.ResultSet[]</span></p><![CDATA[					]]></td>
                    </tr>
                </tbody>
            </table>
            <h2>Example of argument matching</h2>
            <p>The following function: </p>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">CREATE FUNCTION TO_DEGREES
     ( RADIANS DOUBLE )
RETURNS DOUBLE
PARAMETER STYLE JAVA
NO SQL LANGUAGE JAVA
EXTERNAL NAME 'example.MathUtils.toDegrees'
;</pre>
            </div>
            <p>would match all of the following methods:</p>
            <div class="preWrapperWide"><pre class="Example">
public static double toDegrees( double arg ) {...}
public static Double toDegrees( double arg ) {...}
public static double toDegrees( Double arg ) {...}
public static Double toDegrees( Double arg ) {...}
		</pre>
            </div>
            <p>Note that Splice Machine raises an exception if it finds more than one matching method. </p>
            <h2>Mapping SQL data types to Java data types</h2>
            <p>The following table shows how Splice Machine maps specific SQL data types to Java data types.</p>
            <table >
                <caption><a name="kanchor71"></a>SQL and Java type correspondence</caption>
                <col  />
                <col  />
                <col  />
                <thead>
                    <tr >
                        <th >SQL Type</th>
                        <th >Primitive Match</th>
                        <th >Wrapper Match</th>
                    </tr>
                </thead>
                <tbody>
                    <tr >
                        <td  style="font-family: monospace;">BOOLEAN</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">boolean</span>
                        </td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.lang.Boolean</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">SMALLINT</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">short</span>
                        </td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.lang.Integer</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">INTEGER</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">int</span>
                        </td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.lang.Integer</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">BIGINT</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">long</span>
                        </td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.lang.Long</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">DECIMAL</td>
                        <td >None</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.math.BigDecimal</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">NUMERIC</td>
                        <td >None</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.math.BigDecimal</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">REAL</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">float</span>
                        </td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.lang.Float</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">DOUBLE</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">double</span>
                        </td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.lang.Double</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">FLOAT</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">double</span>
                        </td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.lang.Double</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">CHAR</td>
                        <td >None</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.lang.String</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">VARCHAR</td>
                        <td >None</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.lang.String</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">LONG VARCHAR</td>
                        <td >None</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.lang.String</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">CLOB</td>
                        <td >None</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.sql.Clob</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">BLOB</td>
                        <td >None</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.sql.Blob</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">DATE</td>
                        <td >None</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.sql.Date</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">TIME</td>
                        <td >None</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.sql.Time</span>
                        </td>
                    </tr>
                    <tr >
                        <td  style="font-family: monospace;">TIMESTAMP</td>
                        <td >None</td>
                        <td  style="font-family: monospace;"><span class="ItalicFont">java.sql.Timestamp</span>
                        </td>
                    </tr>
                    <tr >
                        <td >User-defined type</td>
                        <td >None</td>
                        <td >Underlying Java class</td>
                    </tr>
                </tbody>
            </table>
            <p class="heading2">See Also</p>
            <ul>
                <li value="1"><a href="sqlref_datatypes_intro.html">About Data Types</a>
                </li>
            </ul>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
        </div>
	</section>
