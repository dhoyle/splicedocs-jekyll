---
title: SYSCS_UTIL.COLLECT_SCHEMA_STATISTICS built-in system procedure
summary: Built-in system procedure that collects statistics on a schema.
keywords: collect schema stats, collect_schema_stats, collect statistics
toc: false
product: all
sidebar:  sqlref_sidebar
permalink: sqlref_sysprocs_collectschemastats.html
folder: SQLReference/BuiltInSysProcs
---
	<section>
		<div class="TopicContent" data-swiftype-index="true">
            <h1>SYSCS_UTIL.COLLECT_SCHEMA_STATISTICS</h1>
            <p>The <code>SYSCS_UTIL.COLLECT_SCHEMA_STATISTICS</code>&#160;&#160;system procedure collects statistics on a specific schema in your database. </p>
            <p class="noteNote">Once statistics have been collected for a schema, they are automatically used by the query optimizer.</p>
            <p>This procedure collects statistics for every table in the schema. It also collects statistics for the index associated with every table in the schema. For example, if you have :</p>
            <ul>
                <li>a schema named <code>mySchema</code></li>
                <li><code>mySchema</code> contains two tables:&#160;<code>myTable1</code> and <code>myTable2</code></li>
                <li><code>myTable1</code> has two indices:&#160;<code>myTable1Index1</code> and <code>myTable1Index2</code></li>
            </ul>
            <p>Then <code>SYSCS_UTIL.COLLECT_SCHEMA_STATISTICS</code> will collect statistics for <code>myTable1</code>, <code>myTable2</code>, <code>myTable1Index1</code>, and <code>myTable1Index2</code>.</p>
            <h2>Syntax</h2>
            <div class="fcnWrapperWide"><pre class="FcnSyntax" xml:space="preserve">SYSCS_UTIL.COLLECT_SCHEMA_STATISTICS(
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;VARCHAR(128)&#160;schema,<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;BOOLEAN&#160;staleOnly<br />)</pre>
            </div>
            <div class="paramList">
                <p class="paramName">schemaName</p>
                <p class="paramDefnFirst">Specifies the schema for which you want to collect statistics. Passing a <code>null</code> or non-existent schema name generates an error.</p>
                <p class="paramName">staleOnly</p>
                <p class="paramDefnFirst">A&#160;<code>BOOLEAN</code> value that specifies:</p>
                <ul class="nested">
                    <li>If this is <code>true</code>, data is only re-collected for partitions that are known to have out of date statistics.</li>
                    <li>If this is <code>false</code>, data is collected on all partitions. <span class="Highlighted">Note</span> that this can significantly increase the time required to collect statistics, and is typically used only when you are not sure about the current quality of statistics in the entire schema.</li>
                </ul>
                <p class="noteIcon">The <span class="CodeItalicFont">staleOnly</span> parameter value is currently ignored, but must be specified in your call to this procedure. Its value is always set to <code>false</code> in the system code.</p>
            </div>
            <h2>Results</h2>
            <p>This procedure returns a results table that contains:</p>
            <ul>
                <li> one row for each table </li>
                <li>one row per index for every table and its associated index in the schema</li>
            </ul>
            <p> Each row contains the following columns:</p>
            <table summary="Columns in Collect_Schema_Statistics results display">
                <col />
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Column Name</th>
                        <th>Type</th>
                        <th>Contents</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="CodeFont">schemaName</td>
                        <td class="CodeFont">VARCHAR</td>
                        <td>The name of the schema.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">tableName</td>
                        <td class="CodeFont">VARCHAR</td>
                        <td>The name of the table.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">partition</td>
                        <td class="CodeFont">VARCHAR</td>
                        <td>The name of the region on which statistics were collected.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">rowsCollected</td>
                        <td class="CodeFont">INTEGER</td>
                        <td>The number of rows of statistics that were collected..</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">partitionSize</td>
                        <td class="CodeFont">BIGINT</td>
                        <td>The size of the partition in bytes.</td>
                    </tr>
                </tbody>
            </table>
            <h2>Usage Notes</h2>
            <p>Collecting statistics on a schema can take some time. </p>
            <h2>SQL Examples</h2>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">
splice&gt;&#160;CALL SYSCS_UTIL.COLLECT_SCHEMA_STATISTICS( 'SPLICE', false );
schemaName |tableName  |partition &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;|rowsCollec&amp;|partitionSize
------------------------------------------------------------------------------------------
SPLICE     |PLAYERS    |splice:1440,,1467393447889.cbc33f4635ade|76         |3515      &#160;
SPLICE     |SALARIES   |splice:1456,,1467393749257.7724e0cb12af3|76 &#160;       |1420
SPLICE     |BATTING    |splice:1472,,1467393754889.b34f5da64c36e|44         |22571       &#160;
SPLICE     |PITCHING   |splice:1488,,1467393760434.35ee9880e5090|32         |21212
SPLICE     |FIELDING   |splice:1504,,1467393775949.674b34acdb182|44         |9876

5 rows selected</pre>
            </div>
            <h2>See Also</h2>
            <ul>
                <li><a href="sqlref_datatypes_compatability.html">Data Assignments and Comparisons</a>
                </li>
                <li><a href="sqlref_sysprocs_enablecolumnstats.html"><code>SYSCS_UTIL.ENABLE_COLUMN_STATISTICS</code></a>
                </li>
                <li><a href="sqlref_sysprocs_disablecolumnstats.html"><code>SYSCS_UTIL.DISABLE_COLUMN_STATISTICS</code></a>
                </li>
                <li><a href="sqlref_sysprocs_dropschemastats.html"><code>SYSCS_UTIL.DROP_SCHEMA_STATISTICS</code></a>
                </li>
                <li><a href="developers_tuning_usingstats.html">Using Statistics</a> in the <em>Developer's Guide</em></li>
            </ul>
        </div>
	</section>
