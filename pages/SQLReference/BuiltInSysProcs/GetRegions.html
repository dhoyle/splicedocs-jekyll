---
title: SYSCS_UTIL.GET_REGIONS built-in system procedure
summary: Built-in system procedure that retrieves the list of regions containing a range of key values.
keywords: region compaction, compact region, minor compaction, COMPACT_REGION
toc: false
product: all
sidebar:  sqlref_sidebar
permalink: sqlref_sysprocs_getregions.html
folder: SQLReference/BuiltInSysProcs
---
	<section>
		<div class="TopicContent" data-swiftype-index="true" markdown="1">
            <h1>SYSCS_UTIL.GET_REGIONS</h1>
            <p>The <code>SYSCS_UTIL.GET_REGIONS</code> system procedure that retrieves the list of regions containing a range of key values.</p>
            <h2>Syntax</h2>
            <div class="fcnWrapperWide"><pre class="FcnSyntax" xml:space="preserve">SYSCS_UTIL.GET_REGIONS( VARCHAR <em>schemaName</em>,
                        VARCHAR <em>tableName</em>,
                        VARCHAR <em>indexName</em>,
                        VARCHAR <em>startKey</em>,
                        VARCHAR <em>endKey</em>,
                        VARCHAR <em>columnDelimiter</em>,
                        VARCHAR <em>characterDelimiter</em>,
                        VARCHAR <em>timestampFormat</em>,
                        VARCHAR <em>dateFormat</em>,
                        VARCHAR <em>timeFormat</em> )</pre>
            </div>
            <div class="paramList">
                <p class="paramName">schemaName</p>
                <p class="paramDefnFirst">The name of the schema of the table.</p>
                <p class="paramName">tableName</p>
                <p class="paramDefnFirst">The name of the table.</p>
                <p class="paramName">indexName</p>
                <p class="paramDefnFirst"><code>NULL</code> or the name of the index.</p>
				<p class="paramDefn">Specify <code>NULL</code> to indicate that the <code>startKey</code> is the primary key of the base table; specify an index name to indicate that the <code>startKey</code> is an index value.</p>
                <p class="paramName">startKey</p>
                <p class="paramDefnFirst">For a table, this is a comma-separated-value (CSV) representation of the primary key value for the start of the regions in which you are interested. For an index, this is the CSV representation of the index columns.</p>
                <p class="paramName">endKey</p>
                <p class="paramDefnFirst">For a table, this is a comma-separated-value (CSV) representation of the primary key value for the end of the regions in which you are interested. For an index, this is the CSV representation of the index columns.</p>
	            <p class="paramName">columnDelimiter</p>
	            <p class="paramDefnFirst">The character used to separate columns in <code>startKey</code>. Specify <code>null</code> if using the comma (<code>,</code>)&#160;character as your delimiter. </p>
	            <p class="paramName">characterDelimiter</p>
	            <p class="paramDefnFirst">Specifies which character is used to delimit strings in  <code>startKey</code>. You can specify <code>null</code> or the empty string to use the default string delimiter, which is the double-quote (<code>"</code>).</p>
	            <p class="paramDefnFirst">If your input contains control characters such as newline characters, make sure that those characters are embedded within delimited strings.</p>
	            <p class="noteNote">To use the single quote (<code>'</code>) character as your string delimiter, you need to escape that character. This means that you specify four quotes (<code>''''</code>)&#160;as the value of this parameter. This is standard SQL&#160;syntax.<br /><br />	The <a href="#Examples">Examples</a> section below contains an example that uses the single quote as the string delimiter character.</p>
	            <p class="paramName">timestampFormat</p>
	            <p class="paramDefnFirst">
				The format of timestamps in <code>startKey</code>. You can set this to <code>null</code> if there are no time columns in the split key, or if the format of any timestamps in the file match the <code>Java.sql.Timestamp</code> default format, which is: "<em>yyyy-MM-dd HH:mm:ss</em>".</p>
				<p class="notePlain">See the <a href="#TimestampFormats">About Timestamp Formats</a> section in the <a href="sqlref_sysprocs_importdata.html"><code>SYSCS_UTIL.IMPORT_DATA</code></a> topic for more information about timestamps.</p>
	            <p class="paramName">dateFormat</p>
	            <p class="paramDefnFirst">The format of datestamps in <code>startKey</code>. You can set this to <code>null</code> if there are no date columns in the startKey, or if the format of any dates in the split key match this pattern: "<em>yyyy-MM-dd</em>".<br /></p>
	            <p class="paramName">timeFormat</p>
	            <p class="paramDefnFirst">The format of time values stored in <code>startKey</code>. You can set this to <code>null</code> if there are no time columns in the file, or if the format of any times in the split key match this pattern: "<em>HH:mm:ss</em>".</p>
            </div>
            <h2>Usage</h2>
			<p>Specify the starting and ending key values, this procedure returns information about all regions that span those key values.</p>
            <h2>Results</h2>
            <p>The displayed results of calling <code>SYSCS_UTIL.SYSCS_GET_REGIONS</code> include these values:</p>
            <table summary=" summary=&quot;Columns in Get_Regions results display&quot;">
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Value</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>ENCODED_REGION_NAME</code></td>
                        <td>The HBase-encoded name of the region.</td>
                    </tr>
                    <tr>
                        <td><code>SPLICE_START_KEY</code></td>
                        <td>The unencoded start key, in CSV format, for the list of regions in which you are interested. This is the value you supplied in the <code>startKey</code> parameter. For example: <code>{1,2}</code>.</td>
                    </tr>
                    <tr>
                        <td><code>SPLICE_END_KEY</code></td>
                        <td>The unencoded end key for the region, in CSV format, for the list of regions in which you are interested.  This is the value you supplied in the <code>endKey</code> parameter. For example: <code>{1,6}</code>.</td>
                    </tr>
                    <tr>
                        <td><code>HBASE_START_KEY</code></td>
                        <td>The start key for the region, formatted as shown in the HBase Web UI. For example: <code>\x81\x00\x82</code>.</td>
                    </tr>
                    <tr>
                        <td><code>HBASE_END_KEY</code></td>
                        <td>The end key for the region, formatted as shown in the HBase Web UI. For example: <code>\x81\x00\x86</code>.</td>
                    </tr>
                    <tr>
                        <td><code>NUM_HFILES</code></td>
                        <td>The number of HBase Files contained in the region.</td>
                    </tr>
                    <tr>
                        <td><code>SIZE</code></td>
                        <td>The size, in bytes, of the region.</td>
                    </tr>
                    <tr>
                        <td><code>LAST_MODIFICATION_TIME</code></td>
                        <td>The most recent time at which the region was modified.</td>
                    </tr>
                    <tr>
                        <td><code>REGION_NAME</code></td>
                        <td>The unencoded name of the region.</td>
                    </tr>
                </tbody>
            </table>
            <h2>Example</h2>
			<p>The following call returns information about the regions that are in the key range <code>{1,2}</code> to <code>{1,8}</code>:</p>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">splice> CALL SYSCS_UTIL.GET_REGIONS('SPLICE','TestTable', null, '1|2', '1|8', '|',null,null,null,null);
ENCODED_REGION_NAME              |SPLICE_START_KEY |SPLICE_END_KEY |HBASE_START_KEY |HBASE_END_KEY |NUM_HFILES |SIZE  |LAST_MODIFICATION_TIME |REGION_NAME
-----------------------------------------------------------------
132c824b9e269006a8e0a3fad577bd12 |{ 1, 2}          |{ 1, 6}        |\x81\x00\x82    |\x81\x00\x86  |1          |1645  |2017-08-17 12:44:15.0  |splice:2944,\x81\x00\x82,1502999053574.132c824b9e269006a8e0a3fad577bd12.
2ee995a552cbb75b7172eed27b917cab |{ 1, 6 }         |{ 1, 8 }       |\x81\x00\x86    |\x81\x00\x88  |1          |1192  |2017-08-17 08:37:56.0  |splice:2944,\x81\x00\x86,1502984266749.2ee995a552cbb75b7172eed27b917cab.

2 rows selected</pre>
            </div>
            <h2>See Also</h2>
            <ul>
				<li><a href="sqlref_sysprocs_compactregion.html"><code>SYSCS_UTIL.COMPACT_REGION</code></a></li>
				<li><a href="sqlref_sysprocs_getencodedregion.html"><code>SYSCS_UTIL.GET_ENCODED_REGION_NAME</code></a></li>
				<li><a href="sqlref_sysprocs_getstartkey.html"><code>SYSCS_UTIL.GET_START_KEY</code></a></li>
				<li><a href="sqlref_sysprocs_majorcompactregion.html"><code>SYSCS_UTIL.MAJOR_COMPACT_REGION</code></a></li>
				<li><a href="sqlref_sysprocs_mergeregions.html"><code>SYSCS_UTIL.MERGE_REGIONS</code></a></li>
            </ul>
        </div>
	</section>
