---
title: SYSCS_UTIL.GET_REGIONS built-in system procedure
summary: Built-in system procedure that retrieves the list of regions containing a range of key values.
keywords: region compaction, compact region, minor compaction, COMPACT_REGION
search: exclude
toc: false
product: all
sidebar:  sqlref_sidebar
permalink: sqlref_sysprocs_getregions.html
folder: SQLReference/BuiltInSysProcs
---
	<section>
		<div class="TopicContent" data-swiftype-index="true">
            <h1>SYSCS_UTIL.GET_REGIONS</h1>
            <p>The <span class="CodeFont">SYSCS_UTIL.GET_REGIONS</span> system procedure that retrieves the list of regions containing a range of key values.</p>
            <h2>Syntax</h2>
            <div class="fcnWrapperWide"><pre class="FcnSyntax" xml:space="preserve">SYSCS_UTIL.GET_REGIONS( VARCHAR <span class="ItalicFont">schemaName</span>,
                        VARCHAR <span class="ItalicFont">tableName</span>,
                        VARCHAR <span class="ItalicFont">indexName</span>,
                        VARCHAR <span class="ItalicFont">startKey</span>,
                        VARCHAR <span class="ItalicFont">endKey</span>,
                        VARCHAR <span class="ItalicFont">columnDelimiter</span>,
                        VARCHAR <span class="ItalicFont">characterDelimiter</span>,
                        VARCHAR <span class="ItalicFont">timestampFormat</span>,
                        VARCHAR <span class="ItalicFont">dateFormat</span>,
                        VARCHAR <span class="ItalicFont">timeFormat</span> )</pre>
            </div>
            <div class="paramList">
                <p class="paramName">schemaName</p>
                <p class="paramDefnFirst">The name of the schema of the table.</p>
                <p class="paramName">tableName</p>
                <p class="paramDefnFirst">The name of the table.</p>
                <p class="paramName">indexName</p>
                <p class="paramDefnFirst"><span class="CodeFont">NULL</span> or the name of the index.</p>
				<p class="paramDefn">Specify <span class="CodeFont">NULL</span> to indicate that the <span class="CodeFont">startKey</span> is the primary key of the base table; specify an index name to indicate that the <span class="CodeFont">startKey</span> is an index value.</p>
                <p class="paramName">startKey</p>
                <p class="paramDefnFirst">For a table, this is a comma-separated-value (CSV) representation of the primary key value for the start of the regions in which you are interested. For an index, this is the CSV representation of the index columns.</p>
                <p class="paramName">endKey</p>
                <p class="paramDefnFirst">For a table, this is a comma-separated-value (CSV) representation of the primary key value for the end of the regions in which you are interested. For an index, this is the CSV representation of the index columns.</p>
	            <p class="paramName">columnDelimiter</p>
	            <p class="paramDefnFirst">The character used to separate columns in <span class="CodeFont">startKey</span>. Specify <span class="CodeFont">null</span> if using the comma (<span class="CodeFont">,</span>)&#160;character as your delimiter. </p>
	            <p class="paramName">characterDelimiter</p>
	            <p class="paramDefnFirst">Specifies which character is used to delimit strings in  <span class="CodeFont">startKey</span>. You can specify <span class="CodeFont">null</span> or the empty string to use the default string delimiter, which is the double-quote (<span class="CodeFont">"</span>).</p>
	            <p class="paramDefnFirst">If your input contains control characters such as newline characters, make sure that those characters are embedded within delimited strings.</p>
	            <div class="noteNote">To use the single quote (<span class="CodeFont">'</span>) character as your string delimiter, you need to escape that character. This means that you specify four quotes (<span class="CodeFont">''''</span>)&#160;as the value of this parameter. This is standard SQL&#160;syntax.<br /><br />	The <a href="#Examples">Examples</a> section below contains an example that uses the single quote as the string delimiter character.</div>
	            <p class="paramName">timestampFormat</p>
	            <p class="paramDefnFirst">
				The format of timestamps in <span class="CodeFont">startKey</span>. You can set this to <span class="CodeFont">null</span> if there are no time columns in the split key, or if the format of any timestamps in the file match the <span class="CodeFont">Java.sql.Timestamp</span> default format, which is: "<span class="ItalicFont">yyyy-MM-dd HH:mm:ss</span>".</p>
				<div class="notePlain">See the <a href="#TimestampFormats">About Timestamp Formats</a> section in the <a href="sqlref_sysprocs_importdata.html"><span class="CodeFont">SYSCS_UTIL.IMPORT_DATA</span></a> topic for more information about timestamps.</div>
	            <p class="paramName">dateFormat</p>
	            <p class="paramDefnFirst">The format of datestamps in <span class="CodeFont">startKey</span>. You can set this to <span class="CodeFont">null</span> if there are no date columns in the startKey, or if the format of any dates in the split key match this pattern: "<span class="ItalicFont">yyyy-MM-dd</span>".<br /></p>
	            <p class="paramName">timeFormat</p>
	            <p class="paramDefnFirst">The format of time values stored in <span class="CodeFont">startKey</span>. You can set this to <span class="CodeFont">null</span> if there are no time columns in the file, or if the format of any times in the split key match this pattern: "<span class="ItalicFont">HH:mm:ss</span>".</p>
            </div>
            <h2>Usage</h2>
			<p>Specify the starting and ending key values, this procedure returns information about all regions that span those key values.</p>
            <h2>Results</h2>
            <p>The displayed results of calling <span class="CodeFont">SYSCS_UTIL.SYSCS_GET_REGIONS</span> include these values:</p>
            <table summary=" summary=&quot;Columns in Get_Regions results display&quot;">
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Value</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="CodeFont">ENCODED_REGION_NAME</td>
                        <td>The HBase-encoded name of the region.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">SPLICE_START_KEY</td>
                        <td>The unencoded start key, in CSV format, for the list of regions in which you are interested. This is the value you supplied in the <span class="CodeFont">startKey</span> parameter. For example: <span class="CodeFont">{1,2}</span>.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">SPLICE_END_KEY</td>
                        <td>The unencoded end key for the region, in CSV format, for the list of regions in which you are interested.  This is the value you supplied in the <span class="CodeFont">endKey</span> parameter. For example: <span class="CodeFont">{1,6}</span>.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">HBASE_START_KEY</td>
                        <td>The start key for the region, formatted as shown in the HBase Web UI. For example: <span class="CodeFont">\x81\x00\x82</span>.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">HBASE_END_KEY</td>
                        <td>The end key for the region, formatted as shown in the HBase Web UI. For example: <span class="CodeFont">\x81\x00\x86</span>.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">NUM_HFILES</td>
                        <td>The number of HBase Files contained in the region.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">SIZE</td>
                        <td>The size, in bytes, of the region.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">LAST_MODIFICATION_TIME</td>
                        <td>The most recent time at which the region was modified.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont">REGION_NAME</td>
                        <td>The unencoded name of the region.</td>
                    </tr>
                </tbody>
            </table>
            <h2>Example</h2>
			<p>The following call returns information about the regions that are in the key range <span class="CodeFont">{1,2}</span> to <span class="CodeFont">{1,8}</span>:</p>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">splice> CALL SYSCS_UTIL.GET_REGIONS('SPLICE','TestTable', null, '1|2', '1|8', '|',null,null,null,null);
ENCODED_REGION_NAME              |SPLICE_START_KEY |SPLICE_END_KEY |HBASE_START_KEY |HBASE_END_KEY |NUM_HFILES |SIZE  |LAST_MODIFICATION_TIME |REGION_NAME
-----------------------------------------------------------------
132c824b9e269006a8e0a3fad577bd12 |{ 1, 2}          |{ 1, 6}        |\x81\x00\x82    |\x81\x00\x86  |1          |1645  |2017-08-17 12:44:15.0  |splice:2944,\x81\x00\x82,1502999053574.132c824b9e269006a8e0a3fad577bd12.
2ee995a552cbb75b7172eed27b917cab |{ 1, 6 }         |{ 1, 8 }       |\x81\x00\x86    |\x81\x00\x88  |1          |1192  |2017-08-17 08:37:56.0  |splice:2944,\x81\x00\x86,1502984266749.2ee995a552cbb75b7172eed27b917cab.

2 rows selected</pre>
            </div>
            <h2>See Also</h2>
            <ul>
				<li><a href="sqlref_sysprocs_compactregion.html"><span class="CodeFont">SYSCS_UTIL.COMPACT_REGION</span></a></li>
				<li><a href="sqlref_sysprocs_getencodedregion.html"><span class="CodeFont">SYSCS_UTIL.GET_ENCODED_REGION_NAME</span></a></li>
				<li><a href="sqlref_sysprocs_getstartkey.html"><span class="CodeFont">SYSCS_UTIL.GET_START_KEY</span></a></li>
				<li><a href="sqlref_sysprocs_majorcompactregion.html"><span class="CodeFont">SYSCS_UTIL.MAJOR_COMPACT_REGION</span></a></li>
				<li><a href="sqlref_sysprocs_mergeregions.html"><span class="CodeFont">SYSCS_UTIL.MERGE_REGIONS</span></a></li>
            </ul>
        </div>
	</section>
