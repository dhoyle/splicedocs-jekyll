---
title: Table Subquery
summary: A subquery that returns multiple rows.
keywords: exists, order by
toc: false
product: all
sidebar:  sqlref_sidebar
permalink: sqlref_queries_tablesubquery.html
folder: SQLReference/Queries
---
	<section>
		<div class="TopicContent" data-swiftype-index="true">
            <h1 id="Queries.TableSubquery">Table Subquery</h1>
            <p>A <em>TableSubquery</em> is a subquery that returns
multiple rows.</p>
            <h2>Syntax</h2>
            <div class="fcnWrapperWide"><pre class="FcnSyntax">( <em><a href="sqlref_queries_query.html">Query</a></em>
    [ <em><a href="sqlref_clauses_orderby.html">ORDER BY clause</a></em> ]
    [ <em><a href="sqlref_clauses_resultoffset.html">result offset clause</a></em> ]
    [ <em><a href="sqlref_clauses_resultoffset.html">fetch first clause</a></em> ]
)</pre>
            </div>
            <h2>Usage</h2>
            <p>Unlike a <em><a href="sqlref_queries_scalarsubquery.html">ScalarSubquery</a>,</em> a <em>TableSubquery</em> is allowed only:</p>
            <ul>
                <li>as a <em><a href="sqlref_expressions_table.html">TableExpression</a></em> in
a <a href="sqlref_clauses_from.html"><code>FROM</code> clause</a></li>
                <li>with <code>EXISTS</code>, <code>IN</code>, or quantified comparisons.</li>
            </ul>
            <p>When used as a
<em><a href="sqlref_expressions_table.html">TableExpression</a></em>
in a <a href="sqlref_clauses_from.html"><code>FROM</code> clause</a>, or with
<code>EXISTS</code>, it can return multiple columns. </p>
            <p>When used with <code>IN</code> or quantified
comparisons, it must return a single column.</p>
            <h2>Example</h2>
            <p class="body">This example shows a subquery used as a table expression in a <code>FROM</code>&#160;clause:</p>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">
SELECT VirtualFlightTable.flight_ID
  FROM
     (SELECT flight_ID, orig_airport, dest_airport
        FROM Flights
        WHERE (orig_airport = 'SFO' OR dest_airport = 'SCL')
      )
  AS VirtualFlightTable;
</pre>
            </div>
            <p class="body">This shows one subquery used with <code>EXISTS</code> and another used with <code>IN</code>:</p>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">
SELECT *
  FROM Flights
  WHERE EXISTS
    (SELECT *
       FROM Flights
       WHERE dest_airport = 'SFO'
       AND orig_airport = 'GRU');

SELECT flight_id, segment_number
  FROM Flights
  WHERE flight_id IN
    (SELECT flight_ID
       FROM Flights
       WHERE orig_airport = 'SFO'
       OR dest_airport = 'SCL');</pre>
            </div>
            <h2>See Also</h2>
            <ul>
                <li><a href="sqlref_clauses_from.html"><code>FROM</code></a>&#160;clause</li>
                <li><a href="sqlref_clauses_orderby.html"><code>ORDER&#160;BY</code></a>&#160;clause</li>
                <li><a href="sqlref_expressions_select.html"><code>SELECT</code></a>&#160;expression</li>
                <li><a href="sqlref_expressions_table.html"><code>TABLE</code></a>&#160;expression</li>
            </ul>
        </div>
	</section>
