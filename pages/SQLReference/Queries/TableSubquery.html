---
title: Table Subquery
summary: A subquery that returns &#xA;multiple rows.
keywords:
toc: false
product: all
sidebar:  sqlref_sidebar
permalink: sqlref_queries_tablesubquery.html
folder: SQLReference/Queries
---
	<section>
		<div class="TopicContent">
            <h1 id="Queries.TableSubquery">Table Subquery</h1>
            <p>A <span class="ItalicFont">TableSubquery</span> is a subquery that returns
multiple rows.</p>
            <p class="heading2">Syntax</p>
            <div class="fcnWrapperWide"><pre class="FcnSyntax">( <span class="ItalicFont"><a href="sqlref_queries_query.html">Query</a></span>
    [ <span class="ItalicFont"><a href="sqlref_clauses_orderby.html">ORDER BY clause</a></span> ]
    [ <span class="ItalicFont"><a href="sqlref_clauses_resultoffset.html">result offset clause</a></span> ]
    [ <span class="ItalicFont"><a href="sqlref_clauses_resultoffset.html">fetch first clause</a></span> ]
)</pre>
            </div>
            <p class="heading2">Usage</p>
            <p>Unlike a <span class="ItalicFont"><a href="sqlref_queries_scalarsubquery.html">ScalarSubquery</a>,</span> a <span class="ItalicFont">TableSubquery</span> is allowed only:</p>
            <ul>
                <li>as a <span class="ItalicFont"><a href="sqlref_expressions_table.html">TableExpression</a></span> in
a <a href="sqlref_clauses_from.html"><span class="CodeFont">FROM</span> clause</a></li>
                <li>with <span class="CodeFont">EXISTS</span>, <span class="CodeFont">IN</span>, or quantified comparisons.</li>
            </ul>
            <p>When used as a
<span class="ItalicFont"><a href="sqlref_expressions_table.html">TableExpression</a></span>
in a <a href="sqlref_clauses_from.html"><span class="CodeFont">FROM</span> clause</a>, or with
<span class="CodeFont">EXISTS</span>, it can return multiple columns. </p>
            <p>When used with <span class="CodeFont">IN</span> or quantified
comparisons, it must return a single column.</p>
            <p class="heading2">Example</p>
            <p class="body">This example shows a subquery used as a table expression in a <span class="CodeFont">FROM</span>&#160;clause:</p>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">
SELECT VirtualFlightTable.flight_ID
  FROM
     (SELECT flight_ID, orig_airport, dest_airport
        FROM Flights
        WHERE (orig_airport = 'SFO' OR dest_airport = 'SCL')
      )
  AS VirtualFlightTable;
</pre>
            </div>
            <p class="body">This shows one subquery used with <span class="CodeFont">EXISTS</span> and another used with <span class="CodeFont">IN</span>:</p>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">
SELECT *
  FROM Flights
  WHERE EXISTS
    (SELECT *
       FROM Flights
       WHERE dest_airport = 'SFO'
       AND orig_airport = 'GRU');

SELECT flight_id, segment_number
  FROM Flights
  WHERE flight_id IN
    (SELECT flight_ID
       FROM Flights
       WHERE orig_airport = 'SFO'
       OR dest_airport = 'SCL');</pre>
            </div>
            <p class="heading2">See Also</p>
            <ul>
                <li><a href="sqlref_clauses_from.html"><span class="CodeFont">FROM</span></a>&#160;clause</li>
                <li><a href="sqlref_clauses_orderby.html"><span class="CodeFont">ORDER&#160;BY</span></a>&#160;clause</li>
                <li><a href="sqlref_expressions_select.html"><span class="CodeFont">SELECT</span></a>&#160;expression</li>
                <li><a href="sqlref_expressions_table.html"><span class="CodeFont">TABLE</span></a>&#160;expression</li>
            </ul>
        </div>
	</section>
