---
title: The Splice*Plus Language
toc: false
keywords:
product: all
summary:
sidebar: developers_sidebar
permalink: developers_spliceplus_lang.html
folder: Developers/SplicePlus
---

	<section>
		<div class="TopicContent" data-swiftype-index="true">
        <h1>Splice*Plus - PL/SQL for Splice&#160;Machine</h1>
        <p>This topic describes Splice Machine's implementation of the PL/SQL&#160;language and <span class="ItalicFont">Splice*Plus</span>, the PL/SQL&#160;interpreter for Splice&#160;Machine.</p>
{% include splice_snippets/enterpriseonly_note.html %}
        <h2 id="About2">About PL/SQL</h2>
        <p>This section provides only the briefest summary of the PL/SQL&#160;language; instead, we recommend that you check the <a href="http://docs.oracle.com/"  target="_blank" title="Click to open the top-level Oracle documentation site in another tab or window" alt="Click to open the top-level Oracle documentation site in another tab or window">Oracle documentation site</a> for their documentation on PL/SQL, or use one of the many third party books that are available. One excellent starting point, if you're new to PL/SQL, is this online tutorial:&#160;<a href="http://www.tutorialspoint.com/plsql"  target="_blank" title="Click to open a new/tab window on the TutorialsPoint PL/SQL tutorial " alt="Click to open a new/tab window on the TutorialsPoint PL/SQL tutorial ">www.tutorialspoint.com/plsql</a>.</p>
        <h3>PL/SQL&#160;Basics</h3>
        <p>PL/SQL&#160;is a procedural programming language that is tightly integrated with SQL. Which means that you can use PL/SQL&#160;to create programs that perform SQL&#160;operations. The syntax of PL/SQL&#160;is based on the programming languages ADA and Pascal, </p>
        <p>The basic unit of a PL/SQL&#160;operation is the block, which groups together related declarations and statements. Blocks can be procedures, functions, or anonymous blocks, which are typically used for the main body of your programs. The <span class="ItalicFont">Hello World</span> example we showed above is an example of an anonymous block.</p>
        <p>You define a PL/SQL&#160;block with a declaration section, a procedural section, and an exception section.The following is an example of an anonymous block:</p>
        <div class="preWrapperWide"><pre class="Example">&lt;&lt;Main&gt;&gt;
DECLARE<br />&#160;  myNum &#160;&#160;number(2);&#160;
 &#160; myText  varchar2(12) := 'Hello world';
&#160;  myDate  date := SYSDATE;
BEGIN<br />&#160;  SELECT name<br /> &#160;&#160;   INTO myText<br /> &#160;&#160;   FROM playerNames<br />  &#160;&#160;  WHERE ID= 27;
EXCEPTION
   WHEN&#160;others THEN<br />&#160;&#160;&#160;&#160;&#160;&#160;dbms_output.put_line('Error Message is ' || sqlerrm   );<br />END;<br />/</pre>
        </div>
        <p>Some notes of interest about the basic constructs of PL/SQL:</p>
        <table>
            <col />
            <col />
            <thead>
                <tr>
                    <th>Construct</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="ItalicFont">Labels</td>
                    <td>
                        <p>Labels are specified surrounded by double chevrons (<span class="CodeFont">&lt;&lt;</span> and <span class="CodeFont">&gt;&gt;</span>).</p>
                        <p>Labels are optional for anonymous blocks such as the main body of your program.</p>
                    </td>
                </tr>
                <tr>
                    <td class="ItalicFont">Declarations</td>
                    <td>
                        <p>The declare section of a block is optional; however, you must declare a variable prior to using it.</p>
                        <p>The declaration section of an anonymous block begins with the keyword <span class="CodeFont">DECLARE</span>.</p>
                        <p>Variable declarations can include initial values, which you assign with the PL/SQL&#160;assignment operator (<span class="CodeFont">:=</span>). If you don't specify an initial value, the variable is initially <span class="CodeFont">NULL</span>.</p>
                    </td>
                </tr>
                <tr>
                    <td class="ItalicFont">Terminators</td>
                    <td>You must terminate each declaration and statement with a semicolon (<span class="CodeFont">;</span>).</td>
                </tr>
                <tr>
                    <td class="ItalicFont">Executable part</td>
                    <td>The executable part of the block begins with the <span class="CodeFont">BEGIN</span> keyword and is required.</td>
                </tr>
                <tr>
                    <td class="ItalicFont">Exceptions</td>
                    <td>The <span class="CodeFont">exception</span> keyword begins the optional section of the block in which you handle exceptions generated in the executable part.</td>
                </tr>
                <tr>
                    <td class="ItalicFont">Nested blocks and variable scope</td>
                    <td>
                        <p>You can nest a block within another block.</p>
                        <p>Variable scoping works as you expect: variables declared in outer blocks are accessible to all blocks nested within them (inner blocks), while variables declared in inner blocks are not accessible to the outer blocks. </p>
                    </td>
                </tr>
                <tr>
                    <td class="ItalicFont">Comments</td>
                    <td>
                        <p>You can add comments in two ways:</p>
                        <ul>
                            <li>single-line comments start with the delimiter <span class="CodeFont">--</span> (double hyphen)</li>
                            <li>multi-line comments are enclosed by <span class="CodeFont">/*</span> and <span class="CodeFont">*/</span>.</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="ItalicFont">/ at end</td>
                    <td>
                        <p>You include a single <span class="CodeFont">/</span> on a blank line at the end of a PL/SQL&#160;block to tell the PL/SQL&#160;interpreter to run the block after loading it. If you leave this out, the interpreter will simply wait after loading your code block.</p>
                        <div class="noteNote">If you're creating a program that includes one or more function or procedure definitions (see below), you must include the <span class="CodeFont">/</span> after each function or procedure block to have them loaded when you run your program.</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <h3>PL/SQL&#160;Procedures and Functions</h3>
        <p>Your PL/SQL&#160;programs can include procedures and functions, which are types of blocks. Procedures do not return values; each function returns a single value. </p>
        <p>Like anonymous blocks, functions and procedures include:</p>
        <ul>
            <li>An optional declaration section, which does not begin with the <span class="CodeFont">DECLARE</span>&#160;keyword</li>
            <li>An executable section</li>
            <li>An optional exception section</li>
        </ul>
        <p>The syntax for specifying functions and procedures is:</p>
        <div class="fcnWrapperWide"><pre class="FcnSyntax">CREATE [OR REPLACE] FUNCTION function_name
 &#160;&#160;[(parameter_name [IN | OUT | IN OUT] type [, ...])]
&#160;&#160;&#160;RETURN return_datatype&#160;
&#160;&#160;&#160;{IS | AS}
BEGIN
   &lt; function_body &gt;
END [function_name];</pre>
        </div>
        <div class="fcnWrapperWide"><pre class="FcnSyntax">CREATE [OR REPLACE] PROCEDURE&#160;procedure_name
 &#160;&#160;[(parameter_name [IN | OUT | IN OUT] type [, ...])]
&#160;&#160;&#160;{IS | AS}
BEGIN
   &lt; procedure body &gt;
END [procedure_name];</pre>
        </div>
        <p>As mentioned, you can define your local variables in a procedure or function just as you do for anonymous blocks; however, the <span class="CodeFont">DECLARE</span>&#160;keyword is not used. For example:</p><pre class="Example">CREATE OR REPLACE FUNCTION
&#160;&#160;&#160;GetDisplayString( prefixStr IN VARCHAR(50), numVal IN number)<br />&#160;&#160;&#160;RETURN varchar2(60)
IS
&#160;&#160;&#160;defaultPrefix varchar2(30) := "The number is: ";
BEGIN<br />&#160;&#160;&#160;IF (prefixStr = '') THEN<br />&#160;&#160;&#160;&#160;&#160;&#160;prefixStr := defaultPrefix;<br />&#160;&#160;&#160;END IF;
&#160;&#160;&#160;RETURN( prefixStr || numVal );
END;<br />/
</pre>
        <h4>Nested Functions and Procedures</h4>
        <p>You can nest blocks, including function and procedure blocks inside other blocks. Standard scoping rules for variables and named blocks:&#160;any nested (inner)&#160;block has access to the definitions available in its containing block, but outer blocks cannot access definitions in inner blocks.</p>
        <p>For example, here's an anonymous block that declares a function definition and then uses that function:</p><pre class="Example">&lt;&lt;&lt;Main&gt;&gt;<br />DECLARE<br /> &#160;&#160;prefix&#160;VARCHAR(50);<br /><br />&#160;&#160;&#160;FUNCTION&#160;GetDisplayString( prefixStr IN VARCHAR(50), numVal IN NUMBER)<br />&#160;&#160;&#160;&#160;&#160;&#160;RETURN VARCHAR2(60)
&#160;&#160;&#160;IS
&#160;&#160;&#160;&#160;&#160;&#160;defaultPrefix VARCHAR2(30) := "The number is: ";<br />&#160;&#160;&#160;&#160;&#160;&#160;negNumException EXCEPTION;
&#160;&#160;&#160;BEGIN<br />&#160;&#160;&#160;&#160;&#160;&#160;IF (prefixStr = '') THEN<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;prefixStr := defaultPrefix;<br />&#160;&#160;&#160;&#160;&#160;&#160;END IF;<br />&#160;&#160;&#160;&#160;&#160;&#160;IF&#160;(numVal &lt;&#160;0)&#160;THEN<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;RAISE&#160;'negativeNum'
&#160;&#160;&#160;&#160;&#160;&#160;RETURN( prefixStr || numVal );<br />&#160;&#160;&#160;EXCEPTION<br />&#160;&#160;&#160;&#160;&#160;&#160;WHEN&#160;negativeNum THEN<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;dbms_output.put_line('Got a negative number!');
&#160;&#160;&#160;END;<br /><br />BEGIN<br />&#160;&#160;&#160;prefix := "The number you want is:&#160;";<br />&#160;&#160;&#160;dbms_output.put_line(GetDisplayString(prefix, 13));<br />EXCEPTION<br /> &#160;&#160;WHEN&#160;others THEN<br />&#160;&#160;&#160;&#160;&#160;&#160;dbms_output.put_line('Uh-oh; something went wrong');<br />END;<br />/</pre>
        <h4>Handling Exceptions in PL/SQL</h4>
        <p>PL/SQL&#160;makes exception handling easy. Each block can optionally contain an exception handling block that can contain any number of <span class="CodeFont">WHEN</span>&#160;statements. In summary:</p>
        <ul>
            <li>
                <p>You can raise exceptions by name in your code:</p>
                <div class="fcnWrapperWide"><pre class="FcnSyntax">RAISE&#160;&lt;exception_name&gt;;</pre>
                </div>
            </li>
            <li>Each block can contain an optional exception section that begins with the <span class="CodeFont">exception</span> keyword.</li>
            <li>The exception section can contain any number of exception handlers, each of which is defined in a <span class="CodeFont">WHEN</span>&#160;statement.</li>
            <li>
                <p>Each <span class="CodeFont">WHEN</span> statement handles a specific <span class="CodeFont">exception_name</span>:</p>
                <div class="fcnWrapperWide"><pre class="FcnSyntax">WHEN&#160;&lt;exception_name&gt;;</pre>
                </div>
            </li>
            <li>The exception name <span class="CodeFont">others</span> is used to define an exception handler that handles any exceptions not specifically handled by another <span class="CodeFont">WHEN</span>&#160;statement.</li>
        </ul>
        <h2>See Also</h2>
        <p>To learn more about PL/SQL, consider these resources:</p>
        <ul>
            <li>The <a href="http://docs.oracle.com/"  target="_blank" title="Click to open the top-level Oracle documentation site in another tab or window" alt="Click to open the top-level Oracle documentation site in another tab or window">Oracle documentation site.</a></li>
            <li>For PL/SQL&#160;beginners, <a href="http://www.tutorialspoint.com/plsql"  target="_blank" title="Click to open a new/tab window on the TutorialsPoint PL/SQL tutorial" alt="Click to open a new/tab window on the TutorialsPoint PL/SQL tutorial ">www.tutorialspoint.com/plsql.</a></li>
            <li>Third party PL/SQL&#160;books available at your favorite bookstore or online.</li>
        </ul>
        </div>
	</section>
