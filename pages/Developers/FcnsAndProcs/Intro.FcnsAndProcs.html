---
title: Introduction to Splice Machine Functions and Procedures
summary: Overview of writing and using functions and stored procedures in Splice Machine
keywords: stored procedure, user-defined function, udf, create stored procedure, create function
toc: false
product: all
sidebar: developers_sidebar
permalink: developers_fcnsandprocs_intro.html
folder: Developers/FcnsAndProcs
---
	<section>
		<div class="TopicContent" data-swiftype-index="true" markdown="1">
            <h1>Using Functions and Stored Procedures</h1>
            <p>This topic provides an overview of writing and using functions and stored procedures in Splice Machine.</p>
            <h2>About User-Defined Functions</h2>
            <p>You can create user-defined database functions that can be evaluated in SQL statements; these functions can be invoked where most other built-in functions are allowed, including within SQL expressions and <code>SELECT</code> statement. Functions must be deterministic, and cannot be used to make changes to the database.</p>
            <p>You can create two kinds of functions:</p>
            <ul>
                <li>Scalar functions, which always return a single value (or <code>NULL</code>),</li>
                <li>Table functions, which return a table.</li>
            </ul>
            <p>When you invoke a function within a <code>SELECT</code>&#160;statement, it is applied to each retrieved row. For example:</p>
            <div class="preWrapper"><pre class="Example">SELECT&#160;ID, Salary, MyAdjustSalaryFcn(Salary)&#160;<br />FROM&#160;SPLICEBBALL.Salaries;</pre>
            </div>
            <p>This <code>SELECT</code>&#160;will execute the <code>MyAdjustSalaryFcn</code> to the <code>Salary</code> value for each player in the table.</p>
            <h2>About Stored Procedures</h2>
            <p>You can group a set of SQL&#160;commands together with variable and logic into a stored procedure, which is a subroutine that is stored in your database's data dictionary. Unlike user-defined functions, a stored procedure is not an expression and can only be invoked using the <code>CALL</code> statement. Stored procedures allow you to modify the database and return <code>Result Sets</code> or nothing at all.</p>
            <p>Stored procedures can be used for situations where a complex set of SQL statements are required to process something, and that process is used by various applications; creating a stored procedure increases performance efficiency. They are typically used for:</p>
            <ul>
                <li>checking business rules and validating data before performing actions</li>
                <li>performing significant processing of data with the inputs to the procedure</li>
            </ul>
            <h2>Comparison of Functions and Stored Procedures</h2>
            <p>Here's a comparison of Splice Machine functions and stored procedures:</p>
            <table summary="Tables comparing stored procedures and database functions.">
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Database Function</th>
                        <th>Stored Procedure</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <p class="noSpaceAbove">A Splice&#160;Machine database function:</p>
                            <ul>
                                <li>must be written as a public static method in a Java public class</li>
                                <li>is executed in exactly the same manner as are public static methods in Java</li>
                                <li>can have multiple input parameters</li>
                                <li>always returns a single value (which can be null)</li>
                                <li>cannot modify data in the database</li>
                            </ul>
                        </td>
                        <td>
                            <p class="noSpaceAbove">Splice Machine stored procedures can:</p>
                            <ul>
                                <li> return result sets or return nothing at all</li>
                                <li>issue <code>update</code>, <code>insert</code>, and <code>delete</code> statements</li>
                                <li>perform DDL&#160;statements such as <code>create</code> and <code>drop</code></li>
                                <li>consolidate and centralize code</li>
                                <li>reduce network traffic and increase execution speed</li>
                            </ul>
                        </td>
                    </tr>
                    <tr>
                        <td>Can be used in <code>SELECT</code>&#160;statements.</td>
                        <td>
                            <p class="noSpaceAbove">Cannot be used in in <code>SELECT</code>&#160;statements.</p>
                            <p>Must be invoked using a <code>CALL</code>&#160;statement.</p>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <p>Create with the <code><a href="sqlref_statements_createfunction.html">CREATE&#160;FUNCTION</a></code>&#160;statement, which is described in our SQL&#160;Reference book.</p>
                            <p>You can find an example in the <a href="developers_fcnsandprocs_examples.html">Function and Stored Procedure Examples</a> topic in this section.</p>
                        </td>
                        <td>
                            <p>Create with the <code><a href="sqlref_statements_createprocedure.html">CREATE&#160;PROCEDURE</a></code>&#160;statement, which is described in our SQL&#160;Reference book.</p>
                            <p>You can find an example in the <a href="developers_fcnsandprocs_examples.html">Function and Stored Procedure Examples</a> topic in this section.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h2>Operations in Which You Can Use Functions and Stored Procedures</h2>
            <p>The following table provides a list of the differences between functions and stored procedures with regard to when and where they can be used:</p>
            <table summary="Table comparing which operations can be used in functions and stored procedures.">
                <col />
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Operation</th>
                        <th>Functions</th>
                        <th>Stored Procedures</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><em>Execute in an SQL&#160;Statement</em>
                        </td>
                        <td>Yes</td>
                        <td>No</td>
                    </tr>
                    <tr>
                        <td><em>Execute in a Trigger</em>
                        </td>
                        <td>Yes</td>
                        <td>Triggers that execute before an operation (<em>before triggers</em>)&#160;cannot modify SQL data.</td>
                    </tr>
                    <tr>
                        <td><em>Process <code>OUT / INOUT</code>&#160;Parameters</em>
                        </td>
                        <td>No</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td><em>Return <code>Resultset(s)</code></em>
                        </td>
                        <td>No</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td><em>Execute SQL&#160;<code>Select</code></em>
                        </td>
                        <td>Yes</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td><em>Execute SQL&#160;<code>Update/Insert/Delete</code></em>
                        </td>
                        <td>No</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td><em>Execute DDL&#160;(<code>Create/Drop</code>)</em>
                        </td>
                        <td>No</td>
                        <td>Yes</td>
                    </tr>
                </tbody>
            </table>
            <h2>Viewing Functions and Stored Procedures</h2>
            <p>You can use the <a href="cmdlineref_showfunctions.html"><code>show functions</code></a> and <a href="cmdlineref_showprocedures.html"><code>show procedures</code></a> commands in the <span class="AppCommand">splice&gt;</span>&#160;command line interface to display the functions and stored procedures available in your database:</p>
            <table summary="Table showing the output of the show functions and show procedures commands.">
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Command</th>
                        <th>Output</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="AppCommand">splice&gt;&#160;show functions;</span>
                        </td>
                        <td>All functions defined in your database</td>
                    </tr>
                    <tr>
                        <td><span class="AppCommand">splice&gt;&#160;show functions in SYSCS_UTIL;</span>
                        </td>
                        <td>All functions in the <code>SYSCS_UTIL</code>&#160;schema in your database</td>
                    </tr>
                    <tr>
                        <td><span class="AppCommand">splice&gt;&#160;show procedures;</span>
                        </td>
                        <td>All stored procedures defined in your database</td>
                    </tr>
                    <tr>
                        <td><span class="AppCommand">splice&gt;&#160;show procedures in SYSCS_UTIL;</span>
                        </td>
                        <td>All stored procedures in the <code>SYSCS_UTIL</code>&#160;schema in your database</td>
                    </tr>
                </tbody>
            </table>
            <h2>Writing and Deploying Functions and Stored Procedures</h2>
            <p>The remainder of this section presents information about and examples of writing functions and stored procedures for use with Splice Machine, in these topics:</p>
            <ul>
                <li><a href="developers_fcnsandprocs_writing.html">Writing Functions and Stored Procedures</a> shows you the steps required to write functions stored procedures and add them to your Splice Machine database.</li>
                <li><a href="developers_fcnsandprocs_storing.html">Storing and Updating Functions and Stored Procedures</a> tells you how to store new JAR&#160;files, replace JAR&#160;files, and remove JAR&#160;files in your Splice Machine database.</li>
                <li><a href="developers_fcnsandprocs_examples.html">Examples of Splice Machine Functions and Stored Procedures</a> provides you with examples of functions and stored procedures.</li>
            </ul>
            <h2>See Also</h2>
            <ul>
                <li><code><a href="sqlref_statements_createfunction.html">CREATE&#160;FUNCTION</a></code>&#160;in the <em>SQL Reference Manual</em></li>
                <li><code><a href="sqlref_statements_createprocedure.html">CREATE&#160;PROCEDURE</a></code>&#160;in the <em>SQL Reference Manual</em></li>
            </ul>
        </div>
	</section>
