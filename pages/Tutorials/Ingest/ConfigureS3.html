---
title: Configuring an S3 Bucket to Use with Splice Machine
summary: Walks you configuring an AWS S3 bucket for use with Splice Machine.
keywords: S3, configuring, IAM, bucket, 
toc: false
product: all
sidebar: tutorials_sidebar
permalink: tutorials_ingest_configures3.html
folder: Tutorials/Ingest
---
	<section>
		<div class="TopicContent">
            <h1 id="kanchor19">Configuring an S3 Bucket for Splice Machine Access</h1>
            <p>Splice Machine can access S3 buckets, making it easy for you to store and manage your data on AWS. To do so, you need to configure your AWS&#160;controls to allow that access. This topic walks you through the required steps.</p>
            <div class="noteNote">You must have administrative access to AWS to configure your S3 buckets for Splice Machine.</div>
            <p>After completing the configuration steps described here, you'll </p>
            <h2>Configure S3 Bucket Access</h2>
            <p>You can follow these steps to configure to:</p>
            <ul>
                <li>create an IAM&#160;policy for an S3 bucket</li>
                <li>create an IAM&#160;user</li>
                <li>generate access credential for that user</li>
                <li>attach the security policy to that user</li>
            </ul>
            <p>access to your S3 bucket(s) for Splice&#160;Machine; when you're done, you will have:</p>
            <div class="opsStepsList">
                <ol class="boldFont">
                    <li>
                        <p class="topLevel">Log in to the AWS&#160;Database Console</p>
                        <p class="indentLevel1">You must have administrative access to configure S3 bucket access.</p>
                    </li>
                    <li>
                        <p class="topLevel">Select <span class="ConsoleLink">Services</span> at the top of the dashboard</p>
                        <p>
                            <img src="images/AWSServices.png" class="nestedTightSpacing" />
                        </p>
                    </li>
                    <li>
                        <p class="topLevel">Access the IAM&#160;(Identify and Access Management) service:</p>
                        <p class="indentLevel1">Select <span class="ConsoleLink">IAM</span> in the <span class="ConsoleLink">Security, Identity &amp;&#160;Compliance</span> section:</p>
                        <p class="indentLevel1">
                            <img src="images/S3SelectIAM_820x1005.png" class="nestedTightSpacing" style="width: 820;height: 1005;" />
                        </p>
                    </li>
                    <li>
                        <p class="topLevel">Create a new policy:</p>
                        <ol class="LowerAlphaPlainFont">
                            <li>
                                <p>Select <span class="ConsoleLink">Policies</span>from the IAM&#160;screen, then select <span class="ConsoleLink">Create Policy:</span></p>
                                <p>
                                    <img src="images/AWSIAMPolicies.png" class="nestedTightSpacing" />
                                </p>
                            </li>
                            <li>
                                <p>Select <span class="ConsoleLink">Create Your Own Policy</span> to enter your own policy:</p>
                                <p>
                                    <img src="images/AWSIAMCreatePolicy.png" class="nestedTightSpacing" />
                                </p>
                            </li>
                            <li>
                                <p>In the <span class="ConsoleLink">Review Policy</span> section, which should be pre-selected, specify a name for this policy (we call it <span class="CodeItalicFont">splice_access</span>):</p>
                                <p>
                                    <img src="images/AWSIAMNamePolicy.png" class="nestedTightSpacing" />
                                </p>
                            </li>
                            <li>
                                <p>Paste the following JSON&#160;object specification into the <span class="ConsoleLink">Policy Document</span> field and then modify the highlighted values to specify your bucket name and folder path.</p>
                                <div class="preWrapperWide"><pre class="Plain">{
    "Version": "2017-04-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
              "s3:PutObject",
              "s3:GetObject",
              "s3:GetObjectVersion",
              "s3:DeleteObject",
              "s3:DeleteObjectVersion"
            ],
            "Resource": "arn:aws:s3:::<span class="Highlighted">&lt;bucket_name&gt;</span>/<span class="Highlighted">&lt;prefix&gt;</span>/*"
        },
        {
            "Effect": "Allow",
            "Action": "s3:ListBucket",
            "Resource": "arn:aws:s3:::<span class="Highlighted">&lt;bucket_name&gt;</span>",
            "Condition": {
                "StringLike": {
                    "s3:prefix": [
                        "<span class="Highlighted">&lt;prefix&gt;</span>/*"
                    ]
                }
            }
        },
        {
            "Effect": "Allow",
            "Action": "s3:GetAccelerateConfiguration",
            "Resource": "arn:aws:s3:::<span class="Highlighted">&lt;bucket_name&gt;</span>"
        }
    ]
}</pre>
                                </div>
                            </li>
                            <li>
                                <p>Click <span class="ConsoleLink">Validate Policy</span> to verify that your policy settings are valid.</p>
                                <p>
                                    <img src="images/AWSIAMDoCreate.png" class="nestedTightSpacing" />
                                </p>
                            </li>
                            <li>Click <span class="ConsoleLink">Create Policy</span> to create and save the policy.</li>
                        </ol>
                    </li>
                    <li>
                        <p class="topLevel">Add Splice Machine as a user:</p>
                        <p class="indentLevel1">After you create the policy:</p>
                        <ol class="LowerAlphaPlainFont">
                            <li>Select <span class="ConsoleLink">Users</span> from the left-hand navigation pane.</li>
                            <li>Click <span class="ConsoleLink">Add User</span>.</li>
                            <li>
                                <p>Enter a <span class="ConsoleLink">User name</span> (we've used <span class="ItalicFont">SpliceMachine</span>)&#160;and select <span class="ConsoleLink">Programmatic access</span> as the access type:</p>
                                <p>
                                    <img src="images/AWSIAMAddUser1.png" class="nestedTightSpacing" />
                                </p>
                            </li>
                            <li>Click <span class="ConsoleLink">Attach existing policies directly</span>.</li>
                            <li>
                                <p>Select the policy you just created and click <span class="ConsoleLink">Next</span>:</p>
                                <p>
                                    <img src="images/AWSIAMAddUser3.png" class="nestedTightSpacing" />
                                </p>
                            </li>
                            <li>Review your settings, then click <span class="ConsoleLink">Create User</span>.</li>
                        </ol>
                    </li>
                    <li>
                        <p class="topLevel">Save your access credentials</p>
                        <p class="indentLevel1">You <span class="BoldFont">must</span> write down your Access key ID and secret access key; you will be unable to recover the secret access key.</p>
                        <p class="indentLevel1">
                            <img src="images/AWSIAMAddUser4.png" class="nestedTightSpacing" />
                        </p>
                        <div class="notePlain">
                            <p><span class="important">Splice Machine strongly recommends</span> that you click the <span class="ConsoleLink">Download .csv</span> button and save your credentials in a file for future reference. Once you close this screen, you'll be unable to display your secret access key.</p>
                        </div>
                    </li>
                </ol>
            </div>
        </div>
	</section>
