---
title: Connecting to Splice Machine with C and ODBC
summary: Walks you through compiling and running a C program that connects to your Splice Machine database via our ODBC driver.&#xA;
keywords: ODBC, C, connect tutorial
toc: false
product: all
sidebar: tutorials_sidebar
permalink: tutorials_connect_odbcc.html
folder: Tutorials/Connect
---
	<section>
		<div class="TopicContent">
            <h1 id="kanchor422">Connecting to Splice Machine with C and ODBC</h1>
            <p>This topic shows you how to compile and run a sample C program that exercises the Splice&#160;Machine ODBC driver. The <span class="CodeFont">listODBCdriver</span>&#160;program verifies that the driver is correctly installed and available.</p>
            <h2 id="Compile">Compile and Run the Sample Program</h2>
            <p>This section walks you through compiling and running the <span class="CodeFont">listODBCdriver</span>&#160;example program, which simply displays information about the installed driver.</p>
            <div class="opsStepsList">
                <ol class="boldFont">
                    <li>
                        <p class="topLevel">Install the ODBC&#160;driver</p>
                        <p class="indentLevel1"><a href="tutorials_connect_odbcinstall.html">Follow our instructions</a> for installing the driver on Unix or Windows.</p>
                    </li>
                    <li>
                        <p class="topLevel">Copy the example program code</p>
                        <p class="indentLevel1">You can copy and paste the code below:</p>
                            <div class="preWrapperWide"><pre class="Example">#include &lt;stdio.h&gt;
#include &lt;sql.h&gt;
#include &lt;sqlext.h&gt;

main() {
   SQLHENV env;
   char driver[256];
   char attr[256];
   SQLSMALLINT driver_ret;
   SQLSMALLINT attr_ret;
   SQLUSMALLINT direction;
   SQLRETURN ret;

   SQLAllocHandle(SQL_HANDLE_ENV, SQL_NULL_HANDLE, &amp;env);
   SQLSetEnvAttr(env, SQL_ATTR_ODBC_VERSION, (void *) SQL_OV_ODBC3, 0);

   direction = SQL_FETCH_FIRST;
   while(SQL_SUCCEEDED(ret = SQLDrivers(env, direction,
         driver, sizeof(driver), &amp;driver_ret,
         attr, sizeof(attr), &amp;attr_ret))) {
         direction = SQL_FETCH_NEXT;
      printf("%s - %s\n", driver, attr);
      if (ret == SQL_SUCCESS_WITH_INFO) printf("\tdata truncation\n");
      }
}                    </pre>
                            </div>
                    </li>
                    <li>
                        <p class="topLevel">Compile it</p>
                            <div class="preWrapperWide"><pre class="ShellCommand">
#!/bin/bash
# gcc -I /usr/local/splice/unixODBC/include listODBCdriver.c -o listODBCdriver -L/usr/local/splice/lib -lodbc -lodbcinst -lodbccr
</pre>
                            </div>
                    </li>
                    <li>
                        <p class="topLevel">Run the program</p>
                        <p class="indentLevel1">Run the compiled <span class="CodeFont">listODBCdriver</span>:</p>
                            <div class="preWrapper"><pre class="ShellCommand" xml:space="preserve">prompt:~$ ./listODBCdriver</pre>
                            </div>
                        <p class="indentLevel1">The command should display a result like the following:</p>
                            <div class="preWrapper"><pre class="ShellCommand">Splice Machine - Description=Splice Machine ODBC Driver</pre>
                            </div>
                    </li>
                </ol>
            </div>
        </div>
	</section>
