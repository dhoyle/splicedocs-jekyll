---
title: Using Apache Zeppelin with Splice Machine
summary: A tutorial showing you how to use Apache Zeppelin to analyze data in an on-premise Splice Machine database.
keywords:
toc: false
product: all
sidebar: tutorials_sidebar
permalink: tutorials_ml_zeppelin.html
folder: Tutorials/ML
---
	<section>
		<div class="TopicContent">
            <h1 id="kanchor290">Connecting with Apache Zeppelin</h1>
            <p>This tutorial walks you through connecting your on-premise Splice Machine database with Apache Zeppelin, which is a web-based notebook project currently in incubation at Apache. In this tutorial, you'll learn how to use SQL&#160;to query your Splice Machine database from Zeppelin.</p>
            <div class="noteNote">
                <p>Zeppelin is already integrated into the Splice Machine Database-as-Service product; please see our <a href="dbaas_zep_intro.html"><span class="italicFont">Using Zeppelin</span> documentation for more information.</p>
                <p>See <a href="https://zeppelin.apache.org/" title="Link to the main Apache Zeppelin web site." alt="Link to the main Apache Zeppelin web site.">https://zeppelin.apache.org/</a> to learn more about Apache Zeppelin.</p>
            </div>
{% if site.incl_notpdf %}
            <div>
                <p>You can complete this tutorial by <a href="#Watch" class="selected">watching a short video</a>, or by <a href="#Written" class="selected">following the written directions</a> below.</p>
                <h2 id="Watch">Watch the Video</h2>
                <p>The following video shows you how to connect Splice Machine with Apache Zeppelin..</p>
                <div class="centered">
                    <p><iframe class="youtube-player_0" src="https://www.youtube.com/embed/h0KWRghLziI?" frameborder="0" allowfullscreen="1" width="560px" height="315px"></iframe>
                    </p>
                </div>
            </div>
{% endif %}
            <div>
                <h2 id="Written">Written Walk Through</h2>
                <p>This section walks you through using SQL&#160;to query a Splice Machine database with Apache Zeppelin..</p>
                <div class="opsStepsList">
                    <ol class="boldFont">
                        <li>
                            <p class="topLevel">Install Zeppelin:</p>
                            <p class="indentLevel1">If you're running on AWS, you can install the Zeppelin sandbox application; if you're using an on-premise database, we recommend following the <a href="http://www.mapr.com/blog/building-apache-zeppelin-mapr-using-spark-under-yarn" title="Link to instructions for installing Zeppelin on MapR" alt="Link to instructions for installing Zeppelin on MapR">instructions in this video.</a></p>
                        </li>
                        <li>
                            <p class="topLevel">Create a new interpreter to run with Splice:</p>
                            <ol class="LowerAlphaPlainFont">
                                <li>
                                    <p>Select the <span class="ConsoleLink">Interpreter</span> tab in Zeppelin:</p>
                                    <p class="noSpaceBelow">
                                        <img src="images/2017-04-10 11_58_22-Splice Machine Tutorial Video  Connecting Splice Machine to Apache Zeppelin _.png" class="nestedTightSpacing" />
                                    </p>
                                </li>
                                <li>
                                    <p>Click the <span class="ConsoleLink">Create</span> button (in the upper right of the Zeppelin window) to create a new interpreter. Fill in the property fields as follows:</p>
                                    <table>
                                        <col />
                                        <col />
                                        <tbody>
                                            <tr>
                                                <td class="ItalicFont">Name</td>
                                                <td>Whatever name you like; we're using <span class="CodeFont">SpliceMachine</span></td>
                                            </tr>
                                            <tr>
                                                <td class="ItalicFont">Interpreter</td>
                                                <td>Select <span class="CodeFont">jdbc</span> from the drop-down list of interpreter types.</td>
                                            </tr>
                                            <tr>
                                                <td class="ItalicFont">default.url</td>
                                                <td>
                                                    <p><span class="CodeFont">jdbc:splice:/<span class="HighlightedCode">myServer</span>:1527/splicedb</span>
                                                    </p>
                                                    <p>(replace <span class="HighlightedCode">myServer</span> with the name of the server that you're using)</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="ItalicFont">default password</td>
                                                <td class="CodeFont">admin</td>
                                            </tr>
                                            <tr>
                                                <td class="ItalicFont">default userId</td>
                                                <td class="CodeFont">splice</td>
                                            </tr>
                                            <tr>
                                                <td class="ItalicFont">common.max_count</td>
                                                <td class="CodeFont">1000</td>
                                            </tr>
                                            <tr>
                                                <td class="ItalicFont">default.driver</td>
                                                <td class="CodeFont">com.splicemachine.db.jdbc.ClientDriver</td>
                                            </tr>
                                            <tr>
                                                <td class="ItalicFont">Artifacts</td>
                                                <td>
                                                    <p>Insert the path to the Splice Machine jar file; for example:</p>
                                                    <div class="preWrapperWide"><pre class="Example">/tmp/db-client-2.5.0.1708-SNAPSHOT.jar</pre>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </li>
                                <li>Click the <span class="ConsoleLink">Save</span> button to save your interpreter definition.</li>
                            </ol>
                            <p class="indentLevel1">&#160;</p>
                        </li>
                        <li>
                            <p class="topLevel">Create a note:</p>
                            <p class="indentLevel1">Select the <span class="ConsoleLink">Notebook</span> tab in Zeppelin, and then click <span class="ConsoleLink">+&#160;Create new note</span>.</p>
                            <ol class="LowerAlphaPlainFont">
                                <li>Specify a name and click the <span class="ConsoleLink">Create Note</span> button.</li>
                                <li>
                                    <p>Enable interpreters for the note. In this case, we move the Splice&#160;Machine interpreter to the top of the list, then click the Save button to make it the default interpreter:</p>
                                    <p>
                                        <img src="images/ZepInterpreter1_412x213.png" style="width: 412;height: 213;" />
                                    </p>
                                </li>
                                <li>
                                    <p>Create a Zeppelin paragraph (a jdbc action) that calls a stored procedure. The procedure we're calling in this tutorial is named MOVIELENS; it is used to analyze data in a table. In this case, we're using this procedure to report statistics on the Age column in our movie watchers database. This Zeppelin paragraph looks like this:</p><pre class="Example">%jdbc<br />call MOVIELENS.ContinuousFeatureReport('movielens.user_demographics');</pre>
                                    <p>The <span class="Example">%jdbc</span> specifies that we're creating a paragraph that uses a JDBC&#160;interpreter; since we've made the SpliceMachine driver our default JDBC&#160;connector, it will be used.</p>
                                </li>
                                <li>
                                    <p>The results of this call look like this:</p>
                                    <p>
                                        <img src="images/ZepAge1.png" title="Initial results of running the movielens paragraph" class="nestedTightSpacing" />
                                    </p>
                                </li>
                                <li>
                                    <p>We can also create a new paragraph that performs additional analysis; you'll see that whenever you run a paragraph in Zeppelin, it automatically leaves room at the bottom to create another paragraph.</p><pre class="Example">%jdbc<br />select count(1)&#160;num_age, age from MOVIELENS.USER_DEMOGRAPHICS group by age;</pre>
                                    <p>The results of this paragraph:</p>
                                    <p>
                                        <img src="images/ZepPgf2.png" title="Age analysis results" class="nestedTightSpacing" />
                                    </p>
                                </li>
                            </ol>
                            <li>
                                <p class="topLevel">Change how you view your data</p>
                                <p class="indentLevel1">To get a better sense of what you can do with Zeppelin, we'll modify how we visualize this data:</p>
                                <ol class="LowerAlphaPlainFont">
                                    <li>Click the rightmost settings <img src="images/ZepSettings.png" class="nestedTightSpacing" style="margin-left: 0px;margin-right: 0px;margin-top: 0px;margin-bottom: 0px;padding-top: 4px;" /> icon, then click <span class="ConsoleLink">settings</span>.</li>
                                    <li>Move age to the xAxis, and the number of people of that age to the yAxis.</li>
                                    <li>
                                        <p>You'll now see the distribution of ages:</p>
                                        <p>
                                            <img src="images/ZepScatter.png" class="nestedTightSpacing" />
                                        </p>
                                    </li>
                                    <li>Click the <img src="images/ZepGraphs.png" class="nestedTightSpacing" style="margin-left: 0px;margin-right: 0px;margin-top: 0px;margin-bottom: 0px;padding-top: 4px;" /> graphs button to select other data visualizations.</li>
                                </ol>
                            </li>
                        </li>
                    </ol>
                </div>
            </div>
        </div>
	</section>
