---
title: Scripting the splice&gt; Command Line Interpreter
summary: Walks you through scripting a set of commands to submit to the splice&gt; command line interpreter.
keywords: 
toc: false
product: all
sidebar: tutorials_sidebar
permalink: tutorials_cli_scripting.html
folder: Tutorials/CLI
---
	<section>
		<div class="TopicContent">
            <h1><a name="kanchor435"></a>Scripting the splice&gt;&#160;Command Line Interface</h1>
            <p>You can use two simple and different methods to script the <span class="AppCommand">splice&gt;</span>&#160;command line interpreter; both of described here:</p>
            <ul>
                <li value="1"><a href="#Running">Running a File of splice&gt;&#160;Commands</a>
                </li>
                <li value="2"><a href="#Running2">Running Splice Machine From a Shell Script</a>
                </li>
            </ul>
            <h2><a name="Running"></a>Running a File of splice&gt;&#160;Commands</h2>
            <p>You can create a simple text file of command lines and use the splice&gt;&#160;run command to run the commands in that file. Follow these steps:</p>
            <div class="opsStepsList">
                <ol class="boldFont">
                    <li value="1">
                        <p class="topLevel">Create a file of SQL&#160;commands:</p>
                        <p class="indentLevel1">First, create a file that contains any SQL&#160;commands you want to run against your Splice Machine database. </p>
                        <p class="indentLevel1">For this example, we'll create a file named <span class="CodeFont">mySQLScript.sql</span> that connects to a database, creates a table, inserts records into that table, and then displays the records in the table.</p>
                        <div class="preWrapperWide"><pre class="Example" xml:space="preserve">connect 'jdbc:splice://localhost:1527/splicedb;user=splice;password=admin';

create table players (
 ID SMALLINT NOT NULL PRIMARY KEY,
 Team VARCHAR(64) NOT NULL,
 Name VARCHAR(64) NOT NULL,
 Position CHAR(2),
 DisplayName VARCHAR(24),
 BirthDate DATE );

INSERT INTO Players
   VALUES (99, 'Giants', 'Joe Bojangles', 'C', 'Little Joey', '07/11/1991'),
          (73, 'Giants', 'Lester Johns', 'P', 'Big John', '06/09/1984'),
          (27, 'Cards', 'Earl Hastings', 'OF', 'Speedy Earl', '04/22/1982');

SELECT * FROM Players;</pre>
                        </div>
                    </li>
                    <li value="2">
                        <p class="topLevel">Start splice&gt;</p>
                        <p class="indentLevel1">If you've not yet done so, start Splice Machine and the splice&gt;&#160;command line interface. If you don't know how to do so, please see our <a href="tutorials_cli_usingcli.html">Introduction to the splice&gt; Command Line Interface</a>.</p>
                    </li>
                    <li value="3">
                        <p class="topLevel">Run the SQL&#160;Script</p>
                        <p class="indentLevel1">Now, in <span class="AppCommand">splice&gt;</span>, run your script with the <span class="CodeFont"><a href="cmdlineref_run.html">run</a></span> command:</p>
                        <div class="preWrapperWide"><pre class="AppCommand">run 'mySQLScript.sql';</pre>
                        </div>
                        <p class="spaceAbove">You'll notice that <span class="AppCommand">splice&gt;</span>&#160;displays exactly the same results as you would see if you typed each command line into the interface:</p>
                        <div class="preWrapperWide"><pre class="AppCommand">splice&gt; connect 'jdbc:splice://localhost:1527/splicedb;user=splice;password=admin';
splice&gt; create table players (
 ID SMALLINT NOT NULL PRIMARY KEY,
 Team VARCHAR(64) NOT NULL,
 Name VARCHAR(64) NOT NULL,
 Position CHAR(2),
 DisplayName VARCHAR(24),
 BirthDate DATE );
0 rows inserted/updated/deleted
splice&gt; INSERT INTO Players
   VALUES (99, 'Giants', 'Joe Bojangles', 'C', 'Little Joey', '07/11/1991'),
          (73, 'Giants', 'Lester Johns', 'P', 'Big John', '06/09/1984'),
          (27, 'Cards', 'Earl Hastings', 'OF', 'Speedy Earl', '04/22/1982');
3 rows inserted/updated/deleted
splice&gt; SELECT * FROM Players;
ID    |TEAM      |NAME                   |POS&amp;|DISPLAYNAME             |BIRTHDATE 
----------------------------------------------------------------------------------
27    |Cards     |Earl Hastings          |OF  |Speedy Earl             |1982-04-22
73    |Giants    |Lester Johns           |P   |Big John                |1984-06-09
99    |Giants    |Joe Bojangles          |C   |Little Joey             |1991-07-11

3 rows selected
<br />splice&gt;</pre>
                        </div>
                    </li>
                </ol>
            </div>
            <h2><a name="Running2"></a>Running Splice Machine From a Shell Script</h2>
            <p>You can also use a shell script to start the splice&gt;&#160;command line interpreter and run command lines with Unix heredoc (<span class="CodeFont">&lt;&lt;</span>)&#160;input redirection. For example, we can easily rework the SQL&#160;script we used in the previous section into a shell script that starts <span class="AppCommand">splice&gt;</span>, runs several commands/statements, and then exits <span class="AppCommand">splice&gt;</span>.</p>
            <div class="opsStepsList">
                <ol class="boldFont">
                    <li value="1">
                        <p class="topLevel">Create a shell script</p>
                        <p class="indentLevel1">For this example, we'll create a file named <span class="CodeFont">myShellScript.sql</span> that uses the same commands as we did in the previous example:</p>
                        <div class="preWrapperWide"><pre class="ShellCommand">#!/bin/bash<br />echo "Running splice&gt;&#160;commands from a shell script"<br /><br />./bin/sqlshell.sh &lt;&lt;&#160;EOF<br />connect 'jdbc:splice://localhost:1527/splicedb;user=splice;password=admin';

create table players (
 ID SMALLINT NOT NULL PRIMARY KEY,
 Team VARCHAR(64) NOT NULL,
 Name VARCHAR(64) NOT NULL,
 Position CHAR(2),
 DisplayName VARCHAR(24),
 BirthDate DATE );

INSERT INTO Players
   VALUES (99, 'Giants', 'Joe Bojangles', 'C', 'Little Joey', '07/11/1991'),
          (73, 'Giants', 'Lester Johns', 'P', 'Big John', '06/09/1984'),
          (27, 'Cards', 'Earl Hastings', 'OF', 'Speedy Earl', '04/22/1982');

SELECT * FROM Players;<br />exit;<br />EOF</pre>
                        </div>
                        <p class="indentLevel1">If you're not familiar with this kind of input redirection:&#160;the &lt;&lt;&#160;specifies that an interactive program (<span class="CodeFont">./bin/sqlshell.sh</span>) will receive its input from the lines in the file until it encounters EOF. The program responds exactly as it would had a user directly typed in those commands.</p>
                    </li>
                    <li value="2">
                        <p class="topLevel">Make your script executable</p>
                        <p class="indentLevel1">Be sure to update permissions on your script file to allow it to run:</p>
                        <div class="preWrapperWide"><pre class="ShellCommand">chmod +x myShellScript.sh</pre>
                        </div>
                    </li>
                    <li value="3">
                        <p class="topLevel">Run the script</p>
                        <p class="indentLevel1">In your terminal window, invoke the script:</p>
                        <div class="preWrapperWide"><pre class="ShellCommand">./myShellScript.sh</pre>
                        </div>
                        <p class="spaceAbove">You'll notice that <span class="AppCommand">splice&gt;</span>&#160;starts and runs exactly as it did in the SQL&#160;script example above, then exits. </p>
                        <div class="preWrapperWide"><pre class="ShellCommand">Running Splice Machine Commands from a Shell Script...

 ========= rlwrap detected and enabled.  Use up and down arrow keys to scroll through command line history. ======== 

Running Splice Machine SQL shell
For help: "splice&gt; help;"<br />splice&gt; connect 'jdbc:splice://srv55:1527/splicedb;user=splice;password=admin';
splice&gt; create table players (
 ID SMALLINT NOT NULL PRIMARY KEY,
 Team VARCHAR(64) NOT NULL,
 Name VARCHAR(64) NOT NULL,
 Position CHAR(2),
 DisplayName VARCHAR(24),
 BirthDate DATE );
0 rows inserted/updated/deleted
splice&gt; INSERT INTO Players
   VALUES (99, 'Giants', 'Joe Bojangles', 'C', 'Little Joey', '07/11/1991'),
          (73, 'Giants', 'Lester Johns', 'P', 'Big John', '06/09/1984'),
          (27, 'Cards', 'Earl Hastings', 'OF', 'Speedy Earl', '04/22/1982');
3 rows inserted/updated/deleted
splice&gt; SELECT * FROM Players;
ID    |TEAM      |NAME                   |POS&amp;|DISPLAYNAME             |BIRTHDATE 
----------------------------------------------------------------------------------
27    |Cards     |Earl Hastings          |OF  |Speedy Earl             |1982-04-22
73    |Giants    |Lester Johns           |P   |Big John                |1984-06-09
99    |Giants    |Joe Bojangles          |C   |Little Joey             |1991-07-11

3 rows selected
</pre>
                        </div>
                    </li>
                </ol>
            </div>
            <h3><a name="Nohup"></a>Using nohub for Long-Running Scripts</h3>
            <p>If you want to run an unattended shell script that may take a long time, you can: use the Unix <span class="CodeFont">nohup</span> utility, which allows you to start a script in the background and redirect its output. This means that you can start the script, log out, and view the output at a later time. For example:</p>
            <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">
nohup ./myShellScript.sh &gt; ./myShellScript.out 2&gt;&amp;1 &amp;</pre>
            </div>
            <p class="topLevel">Once you've issued this command, you can log out, and subsequently view the output of your script in the <span class="CodeFont">myShellScript.out</span> file.</p>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
        </div>
	</section>
