---
title: XMLSERIALIZE built-in SQL function
summary: Built-in SQL function that you can use to convert an XML type to a character type.
keywords: 
toc: false
product: all
sidebar:  sqlref_sidebar
permalink: sqlref_builtinfcns_xmlserialize.html
folder: SQLReference/BuiltInFcns
---
<section>
	<div class="TopicContent">
        <h1 id="BuiltInFcns.XmlSerialize">XMLSERIALIZE</h1>
        <p><span class="CodeFont">XMLSERIALIZE</span> is a SQL/XML operator that you can use to convert an XML type to a character type. There is no other way to convert the type of a Splice Machine XML value.</p>
        <div class="noteNote">Serialization is performed based on the SQL/XML serialization rules. These rules, combined with the fact that Splice Machine supports only a subset of the <span class="CodeFont">XMLSERIALIZE</span> syntax, dictate that the results of an <span class="CodeFont">XMLSERIALIZE</span> operation are not guaranteed to be in-tact copies of the original XML text.</div>
        <p>For example, assume that <samp>[xString]</samp> is a textual representation of a well-formed XML document. You issue the following statements:</p>
        <div class="preWrapper"><pre class="Example" xml:space="preserve">INSERT INTO <var>x_table</var> (<var>id</var>, <var>xcol</var>)
  VALUES (3, XMLPARSE(DOCUMENT '<var>[xString]</var>'
                      PRESERVE WHITESPACE)
         );
  SELECT id, XMLSERIALIZE(<var>xcol</var> AS VARCHAR(100))
  FROM <var>x_table</var>
  WHERE id = 3;</pre>
        </div>
        <p>There is no guarantee that the result of the <span class="CodeFont">XMLSERIALIZE</span> operator will be identical to the original <samp>[xString]</samp> representation. Certain transformations can occur as part of <span class="CodeFont">XMLSERIALIZE</span> processing, and those transformations are defined in the SQL/XML specification. In some cases the result of <span class="CodeFont">XMLSERIALIZE</span> might actually be the same as the original textual representation, but that is not guaranteed. </p>
        <p>When an <span class="CodeFont">XMLSERIALIZE</span> operator is specified as part of the top-level result set for a query, the result can be accessed from JDBC by using whatever JDBC <span class="CodeFont">getXXX</span> methods are allowed on the <samp>string-data-type</samp> argument that is included in the <span class="CodeFont">XMLSERIALIZE</span> syntax. If you attempt to select the contents of an XML value from a top-level result set without using the <span class="CodeFont">XMLSERIALIZE</span> operator, Splice Machine throws an error. Splice Machine does not implicitly serialize XML values.</p>
        <p class="heading2">Syntax</p>
        <div class="fcnWrapper"><pre class="FcnSyntax" xml:space="preserve">XMLSERIALIZE ( <var>xml-value-expression</var>
               AS <var>string-data-type</var> )</pre>
        </div>
        <div class="paramList">
            <p class="paramName">xml-value-expression</p>
            <p class="paramDefnFirst">Can be any Splice Machine XML value, including an XML result sequence generated by the <span class="CodeFont">XMLQUERY</span> operator. The <samp>xml-value-expression</samp> argument cannot be a parameter.</p>
            <p class="paramName">string-data-type</p>
            <p class="paramDefnFirst">Must be a SQL character string type, such as <span class="CodeFont">CHAR</span>, <span class="CodeFont">VARCHAR</span>, <span class="CodeFont">LONG VARCHAR</span>, or <span class="CodeFont">CLOB</span>. If you specify a type that is not a valid character string type, Splice Machine throws an error.</p>
        </div>
        <p class="heading2">Examples</p>
        <p>In the <samp>x_table</samp> table, to display the contents of the <samp>xcol</samp> XML column, use this statement:</p>
        <div class="preWrapper"><pre class="Example" xml:space="preserve">SELECT ID, 
  XMLSERIALIZE(<var> xcol</var> AS CLOB)  
  FROM <var>x_table</var>;</pre>
        </div>
        <p>To retrieve the results from JDBC, you can use the JDBC getCharacterStream() or getString() methods. To display the results of an XMLQUERY operation, use the following statement:</p>
        <div class="preWrapper"><pre class="Example" xml:space="preserve">SELECT ID,
       XMLSERIALIZE(
         XMLQUERY('<var>//student[@age&gt;20]</var>' 
           PASSING BY REF <var>xcol</var> EMPTY ON EMPTY
         )
  AS VARCHAR(50))
  FROM <var>x_table</var>;</pre>
        </div>
        <p class="heading2">Usage note</p>
        <p>Splice Machine requires that a JAXP parser (such as Apache Xerces) and Apache Xalan are listed in the Java classpath for the XML functions to work. If either the JAXP parser or Xalan is missing from the classpath, attempts to use the <span class="CodeFont">XMLSERIALIZE</span> operator will result in an error. In some situations, you may need to take steps to place the parser and Xalan in your classpath.</p>
    </div>
</section>